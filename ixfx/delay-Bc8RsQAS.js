import{h as e,n as t}from"./src-DdJCbM4z.js";const n=async(e,n)=>{let r=typeof n==`number`?{millis:n}:n,i=r.delay??`before`;(i===`before`||i===`both`)&&await t(r);let a=Promise.resolve(await e());return(i===`after`||i===`both`)&&await t(r),a};async function*r(){let e,t=new Promise(t=>e=t),n=0,r=()=>{e&&e(),t=new Promise(t=>e=t)};try{for(;;)n=globalThis.requestAnimationFrame(r),yield await t}finally{e&&e(),globalThis.cancelAnimationFrame(n)}}async function*i(t){let n=e(t);if(n===void 0)throw Error(`timeout is undefined`);if(n<0)throw Error(`Timeout is less than zero`);if(n===0)return yield*r();let i,a=new Promise(e=>i=e),o,s=()=>{i&&i(),a=new Promise(e=>i=e)};try{for(;;)o=globalThis.setTimeout(s,n),yield await a}finally{i&&i(),o!==void 0&&globalThis.clearTimeout(o),o=void 0}}export{i as n,n as t};