{"version":3,"file":"track-unique-y44MYbQM.js","names":[],"sources":["../../core/dist/src/track-unique.js"],"sourcesContent":["import { toStringDefault } from \"@ixfx/core\";\n/**\n * Tracks unique values. Returns _true_ if value is unique.\n * Alternatively: {@link uniqueInstances}\n *\n * ```js\n * const t = unique();\n * t(`hello`); // true\n * t(`hello`); // false\n * ```\n *\n * Uses JSON.stringify to compare anything which is not a string.\n *\n * Provide a custom function to convert to string to track uniqueness\n * for more complicated objects.\n *\n * ```js\n * const t = unique(p => p.name);\n * t({ name:`John`, level:2 }); // true\n *\n * // Since we're judging uniques by name only\n * t({ name:`John`, level:3 }); // false\n * ```\n *\n * Return function throws an error if `value` is null or undefined.\n * @returns\n */\nexport const unique = (toString = toStringDefault) => {\n    const set = new Set();\n    return (value) => {\n        if (value === null)\n            throw new TypeError(`Param 'value' cannot be null`);\n        if (value === undefined)\n            throw new TypeError(`Param 'value' cannot be undefined`);\n        const asString = (typeof value === `string`) ? value : toString(value);\n        if (set.has(asString))\n            return false;\n        set.add(asString);\n        return true;\n    };\n};\n/**\n * Tracks unique object instances. Returns _true_ if value is unique.\n * Alternatively: {@link unique} to track by value.\n */\nexport const uniqueInstances = () => {\n    const set = new Set();\n    return (value) => {\n        if (value === null)\n            throw new TypeError(`Param 'value' cannot be null`);\n        if (value === undefined)\n            throw new TypeError(`Param 'value' cannot be undefined`);\n        if (set.has(value))\n            return false;\n        set.add(value);\n        return true;\n    };\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,MAAa,SAAS,CAAC,WAAW,oBAAoB;CAClD,MAAM,sBAAM,IAAI;AAChB,QAAO,CAAC,UAAU;AACd,MAAI,UAAU,KACV,OAAM,IAAI,UAAU,CAAC,4BAA4B,CAAC;AACtD,MAAI,UAAU,OACV,OAAM,IAAI,UAAU,CAAC,iCAAiC,CAAC;EAC3D,MAAM,WAAY,OAAO,UAAU,CAAC,MAAM,CAAC,GAAI,QAAQ,SAAS,MAAM;AACtE,MAAI,IAAI,IAAI,SAAS,CACjB,QAAO;EACX,IAAI,IAAI,SAAS;AACjB,SAAO;CACV;AACJ;;;;;AAKD,MAAa,kBAAkB,MAAM;CACjC,MAAM,sBAAM,IAAI;AAChB,QAAO,CAAC,UAAU;AACd,MAAI,UAAU,KACV,OAAM,IAAI,UAAU,CAAC,4BAA4B,CAAC;AACtD,MAAI,UAAU,OACV,OAAM,IAAI,UAAU,CAAC,iCAAiC,CAAC;AAC3D,MAAI,IAAI,IAAI,MAAM,CACd,QAAO;EACX,IAAI,IAAI,MAAM;AACd,SAAO;CACV;AACJ"}