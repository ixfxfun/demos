import{st as e}from"./src-DdJCbM4z.js";import{t}from"./tracker-base-B9GTo4Nh.js";var n=class extends t{values;constructor(e={}){super(e),this.values=[]}onTrimmed(e){}trimStore(e){return e>=this.values.length||(this.values=this.values.slice(-e)),this.values.length}onReset(){this.values=[]}filterData(e){let t=e.map(e=>`at`in e?e:{...e,at:Date.now()}),n=t.at(-1);if(this.storeIntermediate)this.values.push(...t);else switch(this.values.length){case 0:this.values.push(n);break;case 1:this.values.push(n);break;case 2:this.values[1]=n;break}return t}get last(){return this.values.length===1?this.values[0]:this.values.at(-1)}get initial(){return this.values.at(0)}get size(){return this.values.length}get elapsed(){return Date.now()-this.values[0].at}get timespan(){let e=this.initial,t=this.last;return!e||!t?NaN:t.at-e.at}},r=class{store;gog;constructor(t){this.store=new Map,this.gog=e(this.store,t)}get size(){return this.store.size}has(e){return this.store.has(e)}seen(e,...t){return this.getTrackedValue(e,...t).seen(...t)}getTrackedValue(e,...t){if(e===null)throw Error(`id parameter cannot be null`);if(e===void 0)throw Error(`id parameter cannot be undefined`);return this.gog(e,t[0])}delete(e){this.store.delete(e)}reset(){this.store=new Map}*ids(){yield*this.store.keys()}*tracked(){yield*this.store.values()}*trackedByAge(){let e=[...this.store.values()];e.sort((e,t)=>{let n=e.elapsed,r=t.elapsed;return n===r?0:n>r?-1:1});for(let t of e)yield t}*valuesByAge(){for(let e of this.trackedByAge())yield e.last}*last(){for(let e of this.store.values())yield e.last}*initialValues(){for(let e of this.store.values())yield e.initial}get(e){return this.store.get(e)}};export{n,r as t};