{"version":3,"file":"guards-DmV2PlEk.js","names":[],"sources":["../../packages/guards/dist/src/result.js","../../packages/guards/dist/src/numbers.js","../../packages/guards/dist/src/arrays.js","../../packages/guards/dist/src/empty.js","../../packages/guards/dist/src/function.js","../../packages/guards/dist/src/object.js","../../packages/guards/dist/src/range.js","../../packages/guards/dist/src/string.js","../src/guards.ts"],"sourcesContent":["export const getErrorMessage = (ex) => {\n    if (typeof ex === `string`)\n        return ex;\n    if (ex instanceof Error) {\n        return ex.message;\n    }\n    return ex;\n};\n/**\n * If `result` is an error, throws it, otherwise ignored.\n * @param result\n * @returns\n */\nexport function resultThrow(...results) {\n    for (const r of results) {\n        const rr = typeof r === `object` ? r : r();\n        if (rr === undefined)\n            continue;\n        if (rr.success)\n            continue;\n        throw resultToError(rr);\n    }\n    return true;\n    // // if (result.success) return true;\n    // // if (typeof result.error === `string`) throw new Error(result.error);\n    // // throw result.error;\n    // if (resultIsError(result)) {\n    //   // if (typeof result.error === `string`) throw new Error(result.error);\n    //   // if (result.error instanceof Error) throw result.error;\n    //   // throw new Error(JSON.stringify(result.error));\n    //   throw resultToError(result);\n    // }\n    // return true;\n}\nexport function resultThrowSingle(result) {\n    if (result.success)\n        return true;\n    throw resultToError(result);\n}\n/**\n * Returns the first failed result, or _undefined_ if there are no fails\n * @param results\n * @returns\n */\nexport const resultFirstFail_ = (...results) => {\n    for (const r of results) {\n        const rr = typeof r === `object` ? r : r();\n        if (rr === undefined)\n            continue;\n        if (!rr.success)\n            return rr;\n    }\n};\n/**\n * Returns _true_ if `result` is an error\n * @param result\n * @returns\n */\nexport function resultIsError(result) {\n    if (typeof result !== `object`)\n        return false;\n    return !result.success;\n}\n/**\n * Returns _true_ if `result` is OK and has a value\n * @param result\n * @returns\n */\nexport function resultIsOk(result) {\n    if (typeof result !== `object`)\n        return false;\n    return result.success;\n}\n/**\n * Gets the result as an Error\n * @param result\n * @returns\n */\nexport function resultToError(result) {\n    if (typeof result.error === `string`)\n        throw new Error(result.error);\n    if (result.error instanceof Error)\n        throw result.error;\n    return new Error(JSON.stringify(result.error));\n}\n/**\n * Unwraps the result, returning its value if OK.\n * If not, an exception is thrown.\n * @param result\n * @returns\n */\nexport function resultToValue(result) {\n    if (resultIsOk(result)) {\n        return result.value;\n    }\n    throw resultToError(result);\n}\n/**\n * Returns the error as a string.\n * @param result\n * @returns\n */\nexport function resultErrorToString(result) {\n    if (result.error instanceof Error)\n        return getErrorMessage(result.error);\n    if (typeof result.error === `string`)\n        return result.error;\n    return JSON.stringify(result.error);\n}\n/**\n * Throws an error if any result is a failure.\n * Error message will be the combined from all errors.\n * @param results\n * @returns\n */\nexport const throwIfFailed = (...results) => {\n    const failed = results.filter(r => resultIsError(r)); // as ResultError<any>[];\n    if (failed.length === 0)\n        return;\n    const messages = failed.map(f => resultErrorToString(f));\n    throw new Error(messages.join(`, `));\n};\n/**\n * Returns first failed result or final value.\n * @param results\n * @returns\n */\nexport const resultsCollate = (...results) => {\n    let rr;\n    for (const r of results) {\n        rr = typeof r === `object` ? r : r();\n        if (rr === undefined)\n            continue;\n        if (!rr.success)\n            return rr;\n    }\n    if (!rr)\n        throw new Error(`No results`);\n    return rr;\n};\n/**\n * If `result` is an error, calls `callback`, passing the error.\n * Otherwise does nothing\n * @param result\n * @param callback\n */\nexport const resultWithFail = (result, callback) => {\n    if (resultIsError(result)) {\n        callback(result);\n    }\n};\n","import { resultsCollate } from \"./result.js\";\n/**\n * Returns true if `x` is a power of two\n * @param x\n * @returns True if `x` is a power of two\n */\nexport const isPowerOfTwo = (x) => Math.log2(x) % 1 === 0;\n/**\n * Returns `fallback` if `v` is NaN, otherwise returns `v`.\n *\n * Throws if `v` is not a number type.\n * @param v\n * @param fallback\n * @returns\n */\nexport const ifNaN = (v, fallback) => {\n    // ✔️ Unit tested\n    if (Number.isNaN(v))\n        return fallback;\n    if (typeof v !== `number`) {\n        throw new TypeError(`v is not a number. Got: ${typeof v}`);\n    }\n    return v;\n};\n/**\n * Parses `value` as an integer, returning it if it meets the `range` criteria.\n * If not, `defaultValue` is returned.\n *\n * ```js\n * const i = integerParse('10', 'positive');    // 10\n * const i = integerParse('10.5', 'positive');  // 10\n * const i = integerParse('0', 'nonZero', 100); // 100\n * ```\n *\n * NaN is returned if criteria does not match and no default is given\n * ```js\n * const i = integerParse('10', 'negative');    // NaN\n * ```\n *\n * @param value\n * @param range\n * @param defaultValue\n * @returns\n */\nexport const integerParse = (value, range = ``, defaultValue = Number.NaN) => {\n    if (typeof value === `undefined`)\n        return defaultValue;\n    if (value === null)\n        return defaultValue;\n    try {\n        const parsed = Number.parseInt(typeof value === `number` ? value.toString() : value);\n        const r = integerTest(parsed, range, `parsed`);\n        return r[0] ? parsed : defaultValue;\n    }\n    catch {\n        return defaultValue;\n    }\n};\n/**\n * Checks if `t` is not a number or within specified range.\n * Returns `[false, reason:string]` if invalid or `[true]` if valid.\n * Use {@link throwNumberTest} to throw an error rather than return result.\n *\n * Alternatives: {@link integerTest} for additional integer check, {@link percentTest} for percentage-range.\n *\n * * (empty, default): must be a number type and not NaN.\n * * finite: must be a number, not NaN and not infinite\n * * positive: must be at least zero\n * * negative: must be zero or lower\n * * aboveZero: must be above zero\n * * belowZero: must be below zero\n * * percentage: must be within 0-1, inclusive\n * * nonZero: can be anything except zero\n * * bipolar: can be -1 to 1, inclusive\n * @param value Value to check\n * @param parameterName Name of parameter (for more helpful exception messages)\n * @param range Range to enforce\n * @returns\n */\nexport const numberTest = (value, range = ``, parameterName = `?`) => {\n    if (value === null)\n        return { success: false, error: `Parameter '${parameterName}' is null` };\n    if (typeof value === `undefined`) {\n        return { success: false, error: `Parameter '${parameterName}' is undefined` };\n    }\n    if (Number.isNaN(value)) {\n        return { success: false, error: `Parameter '${parameterName}' is NaN` };\n    }\n    if (typeof value !== `number`) {\n        return { success: false, error: `Parameter '${parameterName}' is not a number (${JSON.stringify(value)})` };\n    }\n    switch (range) {\n        case `finite`: {\n            if (!Number.isFinite(value)) {\n                return { success: false, error: `Parameter '${parameterName} must be finite (Got: ${value})` };\n            }\n            break;\n        }\n        case `positive`: {\n            if (value < 0) {\n                return { success: false, error: `Parameter '${parameterName}' must be at least zero (${value})` };\n            }\n            break;\n        }\n        case `negative`: {\n            if (value > 0) {\n                return { success: false, error: `Parameter '${parameterName}' must be zero or lower (${value})` };\n            }\n            break;\n        }\n        case `aboveZero`: {\n            if (value <= 0) {\n                return {\n                    success: false, error: `Parameter '${parameterName}' must be above zero (${value})`\n                };\n            }\n            break;\n        }\n        case `belowZero`: {\n            if (value >= 0) {\n                return { success: false, error: `Parameter '${parameterName}' must be below zero (${value})` };\n            }\n            break;\n        }\n        case `percentage`: {\n            if (value > 1 || value < 0) {\n                return {\n                    success: false, error: `Parameter '${parameterName}' must be in percentage range (0 to 1). (${value})`\n                };\n            }\n            break;\n        }\n        case `nonZero`: {\n            if (value === 0) {\n                return { success: false, error: `Parameter '${parameterName}' must non-zero. (${value})` };\n            }\n            break;\n        }\n        case `bipolar`: {\n            if (value > 1 || value < -1) {\n                return { success: false, error: `Parameter '${parameterName}' must be in bipolar percentage range (-1 to 1). (${value})` };\n            }\n            break;\n        }\n    }\n    return { success: true, value };\n};\n/**\n * Checks if `t` is not a number or within specified range.\n * Throws if invalid. Use {@link numberTest} to test without throwing.\n *\n* * (empty, default): must be a number type and not NaN.\n* * positive: must be at least zero\n* * negative: must be zero or lower\n* * aboveZero: must be above zero\n* * belowZero: must be below zero\n* * percentage: must be within 0-1, inclusive\n* * nonZero: can be anything except zero\n* * bipolar: can be -1 to 1, inclusive\n*\n * Alternatives: {@link integerTest} for additional integer check, {@link percentTest} for percentage-range.\n * @param value Value to test\n * @param range Range\n * @param parameterName Name of parameter\n */\n// export const throwNumberTest = (value?: unknown,\n//   range: NumberGuardRange = ``,\n//   parameterName = `?`) => {\n//   throwFromResult(numberTest(value, range, parameterName));\n// }\n/**\n * Returns test of `value` being in the range of 0-1.\n * Equiv to `number(value, `percentage`);`\n *\n * This is the same as calling ```number(t, `percentage`)```\n * @param value Value to check\n * @param parameterName Param name for customising exception message\n * @returns\n */\nexport const percentTest = (value, parameterName = `?`) => numberTest(value, `percentage`, parameterName);\n// export const throwPercentTest = (value: number, parameterName = `?`) => {\n//   throwFromResult(percentTest(value, parameterName));\n//}\n/**\n * Checks if `value` an integer and meets additional criteria.\n * See {@link numberTest} for guard details, or use that if integer checking is not required.\n *\n * Note:\n * * `bipolar` will mean -1, 0 or 1.\n * * positive: must be at least zero\n * * negative: must be zero or lower\n * * aboveZero: must be above zero\n * * belowZero: must be below zero\n * * percentage: must be within 0-1, inclusive\n * * nonZero: can be anything except zero\n * @param value Value to check\n * @param parameterName Param name for customising exception message\n * @param range Guard specifier.\n */\nexport const integerTest = (value, range = ``, parameterName = `?`) => {\n    return resultsCollate(numberTest(value, range, parameterName), () => {\n        if (!Number.isInteger(value)) {\n            return { success: false, error: `Param '${parameterName}' is not an integer` };\n        }\n        return { success: true, value: value };\n    });\n};\nexport const integerArrayTest = (numbers) => {\n    for (const v of numbers) {\n        if (Math.abs(v) % 1 !== 0)\n            return { success: false, error: `Value is not an integer: ${v}` };\n    }\n    return { success: true, value: numbers };\n};\n/**\n * Returns _true_ if `value` is an integer in number or string form\n * @param value\n * @returns\n */\nexport const isInteger = (value) => {\n    if (typeof value === `string`)\n        value = Number.parseFloat(value);\n    const r = integerTest(value);\n    return r.success;\n};\n// export const throwIntegerTest = (value: number | undefined,\n//   range: NumberGuardRange = ``,\n//   parameterName = `?`) => {\n//   throwFromResult(integerTest(value, range, parameterName));\n// }\nexport const numberInclusiveRangeTest = (value, min, max, parameterName = `?`) => {\n    if (typeof value !== `number`) {\n        return { success: false, error: `Param '${parameterName}' is not a number type. Got type: '${typeof value}' value: '${JSON.stringify(value)}'` };\n    }\n    if (Number.isNaN(value)) {\n        return { success: false, error: `Param '${parameterName}' is not within range ${min}-${max}. Got: NaN` };\n    }\n    if (Number.isFinite(value)) {\n        if (value < min) {\n            return { success: false, error: `Param '${parameterName}' is below range ${min}-${max}. Got: ${value}` };\n        }\n        else if (value > max) {\n            return { success: false, error: `Param '${parameterName}' is above range ${min}-${max}. Got: ${value}` };\n        }\n        return { success: true, value };\n    }\n    else {\n        return { success: false, error: `Param '${parameterName}' is not within range ${min}-${max}. Got: infinite` };\n    }\n};\n// export const throwNumberInclusiveRangeTest = (value: number | undefined, min: number, max: number, parameterName = `?`) => {\n//   const r = numberInclusiveRangeTest(value, min, max, parameterName);\n//   if (r[ 0 ]) return;\n//   throw new Error(r[ 1 ]);\n// }\n","import { integerTest } from \"./numbers.js\";\nimport { resultsCollate, resultThrow } from \"./result.js\";\n/**\n * Throws an error if parameter is not an array\n * @param value\n * @param parameterName\n */\nexport const arrayTest = (value, parameterName = `?`) => {\n    if (!Array.isArray(value)) {\n        return { success: false, error: `Parameter '${parameterName}' is expected to be an array'` };\n    }\n    return { success: true, value };\n};\n// export const throwArrayTest = (value: unknown, parameterName = `?`) => {\n//   resultThrow(arrayTest(value, parameterName));\n// }\n/**\n * Throws if `index` is an invalid array index for `array`, and if\n * `array` itself is not a valid array.\n * @param array\n * @param index\n */\nexport const arrayIndexTest = (array, index, name = `index`) => {\n    return resultsCollate(arrayTest(array), integerTest(index, `positive`, name));\n    // const t = ;\n    // if (!t.success) return t;\n    // throwIntegerTest(index, `positive`, name);\n    // if (index > array.length - 1) {\n    //   throw new Error(\n    //     `'${ name }' ${ index } beyond array max of ${ array.length - 1 }`\n    //   );\n    // }\n};\n/**\n * Returns true if parameter is an array of strings\n * @param value\n * @returns\n */\nexport const arrayStringsTest = (value) => {\n    if (!Array.isArray(value))\n        return { success: false, error: `Value is not an array` };\n    if (!value.some((v) => typeof v !== `string`)) {\n        return { success: false, error: `Contains something not a string` };\n    }\n    return { success: true, value };\n};\n// export const guardArray = <V>(array: ArrayLike<V>, name = `?`) => {\n//   if (array === undefined) {\n//     throw new TypeError(`Param '${ name }' is undefined. Expected array.`);\n//   }\n//   if (array === null) {\n//     throw new TypeError(`Param '${ name }' is null. Expected array.`);\n//   }\n//   if (!Array.isArray(array)) {\n//     throw new TypeError(`Param '${ name }' not an array as expected`);\n//   }\n// };\n","export const nullUndefTest = (value, parameterName = `?`) => {\n    if (typeof value === `undefined`) {\n        return { success: false, error: `${parameterName} param is undefined` };\n    }\n    if (value === null)\n        return { success: false, error: `${parameterName} param is null` };\n    return { success: true, value };\n};\n// export const throwNullUndef = (value: any, parameterName = `?`) => {\n//   const r = nullUndef(value, parameterName);\n//   if (r[ 0 ]) return;\n//   throw new Error(r[ 1 ]);\n// }\nexport const isDefined = (argument) => argument !== undefined;\n","export const isFunction = (object) => object instanceof Function;\n// eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\nexport const functionTest = (value, parameterName = `?`) => {\n    if (value === undefined)\n        return { success: false, error: `Param '${parameterName}' is undefined. Expected: function.` };\n    if (value === null)\n        return { success: false, error: `Param '${parameterName}' is null. Expected: function.` };\n    if (typeof value !== `function`)\n        return { success: false, error: `Param '${parameterName}' is type '${typeof value}'. Expected: function` };\n    return { success: true, value };\n};\n// export const throwFunctionTest = (value: unknown, parameterName = `?`) => {\n//   const [ ok, message ] = functionTest(value, parameterName);\n//   if (ok) return;\n//   throw new TypeError(message);\n// }\n","/**\n * Tests_if `value` is a plain object\n *\n * ```js\n * isPlainObject(`text`); // false\n * isPlainObject(document); // false\n * isPlainObject({ hello: `there` }); // true\n * ```\n * @param value\n * @returns\n */\nexport const testPlainObject = (value) => {\n    if (typeof value !== `object` || value === null)\n        return { success: false, error: `Value is null or not object type` };\n    const prototype = Object.getPrototypeOf(value);\n    const t = (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n    if (t)\n        return { success: true, value };\n    return { success: false, error: `Fancy object` };\n};\n/**\n * Tests if `value` is primitive value (bigint,number,string or boolean) or plain object\n * @param value\n * @returns\n */\nexport const testPlainObjectOrPrimitive = (value) => {\n    const t = typeof value;\n    if (t === `symbol`)\n        return { success: false, error: `Symbol type` };\n    if (t === `function`)\n        return { success: false, error: `Function type` };\n    if (t === `bigint`)\n        return { success: true, value: value };\n    if (t === `number`)\n        return { success: true, value: value };\n    if (t === `string`)\n        return { success: true, value: value };\n    if (t === `boolean`)\n        return { success: true, value: value };\n    return testPlainObject(value);\n};\n","import { integerArrayTest } from \"./numbers.js\";\nimport { resultsCollate } from \"./result.js\";\nexport const rangeIntegerTest = (v, expected) => {\n    return resultsCollate(rangeTest(v, expected), integerArrayTest(v));\n};\n/**\n * Inclusive range 4-6 = 4, 5, 6\n * Exclusive range 4-6 = 5\n *\n * @param numbers\n * @param expected\n * @returns\n */\nexport const rangeTest = (numbers, expected) => {\n    for (const v of numbers) {\n        if (expected.minExclusive !== undefined) {\n            if (v <= expected.minExclusive) {\n                return { success: false, error: `Value '${v}' must be higher than minExclusive: '${expected.minExclusive}'` };\n            }\n        }\n        if (expected.minInclusive !== undefined) {\n            if (v < expected.minInclusive) {\n                return { success: false, error: `Value '${v}' must be equal or higher than minInclusive: '${expected.minInclusive}'` };\n            }\n        }\n        if (expected.maxExclusive !== undefined) {\n            if (v >= expected.maxExclusive) {\n                return { success: false, error: `Value '${v}' must be less than maxExclusive: '${expected.maxExclusive}'` };\n            }\n        }\n        if (expected.maxInclusive !== undefined) {\n            if (v > expected.maxInclusive) {\n                return { success: false, error: `Value '${v}' must be equal or less than maxInclusive: '${expected.maxInclusive}'` };\n            }\n        }\n    }\n    return { success: true, value: numbers };\n};\n","/**\n * Throws an error if parameter is not an string\n * @param value\n * @param parameterName\n */\nexport const stringTest = (value, range = ``, parameterName = `?`) => {\n    if (typeof value !== `string`)\n        return { success: false, error: `Param '${parameterName} is not type string. Got: ${typeof value}` };\n    switch (range) {\n        case `non-empty`:\n            if (value.length === 0)\n                return { success: false, error: `Param '${parameterName} is empty` };\n            break;\n    }\n    return { success: true, value };\n};\n// export const throwStringTest = (value: unknown, range: StringGuardRange = ``, parameterName = `?`) => {\n//   throwFromResult(stringTest(value, range, parameterName));\n// }\n","export * from '@ixfx/guards';"],"mappings":";;;AAAA,MAAa,kBAAkB,CAAC,OAAO;AACnC,YAAW,QAAQ,QACf,QAAO;AACX,KAAI,cAAc,MACd,QAAO,GAAG;AAEd,QAAO;AACV;;;;;;AAMD,SAAgB,YAAY,GAAG,SAAS;AACpC,MAAK,MAAM,KAAK,SAAS;EACrB,MAAM,YAAY,OAAO,UAAU,IAAI,GAAG;AAC1C,MAAI,cACA;AACJ,MAAI,GAAG,QACH;AACJ,QAAM,cAAc,GAAG;CAC1B;AACD,QAAO;AAWV;AACD,SAAgB,kBAAkB,QAAQ;AACtC,KAAI,OAAO,QACP,QAAO;AACX,OAAM,cAAc,OAAO;AAC9B;;;;;;AAMD,MAAa,mBAAmB,CAAC,GAAG,YAAY;AAC5C,MAAK,MAAM,KAAK,SAAS;EACrB,MAAM,YAAY,OAAO,UAAU,IAAI,GAAG;AAC1C,MAAI,cACA;AACJ,OAAK,GAAG,QACJ,QAAO;CACd;AACJ;;;;;;AAMD,SAAgB,cAAc,QAAQ;AAClC,YAAW,YAAY,QACnB,QAAO;AACX,SAAQ,OAAO;AAClB;;;;;;AAMD,SAAgB,WAAW,QAAQ;AAC/B,YAAW,YAAY,QACnB,QAAO;AACX,QAAO,OAAO;AACjB;;;;;;AAMD,SAAgB,cAAc,QAAQ;AAClC,YAAW,OAAO,WAAW,QACzB,OAAM,IAAI,MAAM,OAAO;AAC3B,KAAI,OAAO,iBAAiB,MACxB,OAAM,OAAO;AACjB,QAAO,IAAI,MAAM,KAAK,UAAU,OAAO,MAAM;AAChD;;;;;;;AAOD,SAAgB,cAAc,QAAQ;AAClC,KAAI,WAAW,OAAO,CAClB,QAAO,OAAO;AAElB,OAAM,cAAc,OAAO;AAC9B;;;;;;AAMD,SAAgB,oBAAoB,QAAQ;AACxC,KAAI,OAAO,iBAAiB,MACxB,QAAO,gBAAgB,OAAO,MAAM;AACxC,YAAW,OAAO,WAAW,QACzB,QAAO,OAAO;AAClB,QAAO,KAAK,UAAU,OAAO,MAAM;AACtC;;;;;;;AAOD,MAAa,gBAAgB,CAAC,GAAG,YAAY;CACzC,MAAM,SAAS,QAAQ,OAAO,OAAK,cAAc,EAAE,CAAC;AACpD,KAAI,OAAO,WAAW,EAClB;CACJ,MAAM,WAAW,OAAO,IAAI,OAAK,oBAAoB,EAAE,CAAC;AACxD,OAAM,IAAI,MAAM,SAAS,MAAM,IAAI;AACtC;;;;;;AAMD,MAAa,iBAAiB,CAAC,GAAG,YAAY;CAC1C,IAAI;AACJ,MAAK,MAAM,KAAK,SAAS;AACrB,cAAY,OAAO,UAAU,IAAI,GAAG;AACpC,MAAI,cACA;AACJ,OAAK,GAAG,QACJ,QAAO;CACd;AACD,MAAK,GACD,OAAM,IAAI,OAAO;AACrB,QAAO;AACV;;;;;;;AAOD,MAAa,iBAAiB,CAAC,QAAQ,aAAa;AAChD,KAAI,cAAc,OAAO,CACrB,UAAS,OAAO;AAEvB;;;;;;;;;AChJD,MAAa,eAAe,CAAC,MAAM,KAAK,KAAK,EAAE,GAAG,MAAM;;;;;;;;;AASxD,MAAa,QAAQ,CAAC,GAAG,aAAa;AAElC,KAAI,OAAO,MAAM,EAAE,CACf,QAAO;AACX,YAAW,OAAO,QACd,OAAM,IAAI,WAAW,iCAAiC,EAAE;AAE5D,QAAO;AACV;;;;;;;;;;;;;;;;;;;;;AAqBD,MAAa,eAAe,CAAC,OAAO,SAAS,GAAG,eAAe,OAAO,QAAQ;AAC1E,YAAW,WAAW,WAClB,QAAO;AACX,KAAI,UAAU,KACV,QAAO;AACX,KAAI;EACA,MAAM,SAAS,OAAO,gBAAgB,WAAW,UAAU,MAAM,UAAU,GAAG,MAAM;EACpF,MAAM,IAAI,YAAY,QAAQ,QAAQ,QAAQ;AAC9C,SAAO,EAAE,KAAK,SAAS;CAC1B,QACK;AACF,SAAO;CACV;AACJ;;;;;;;;;;;;;;;;;;;;;;AAsBD,MAAa,aAAa,CAAC,OAAO,SAAS,GAAG,iBAAiB,OAAO;AAClE,KAAI,UAAU,KACV,QAAO;EAAE,SAAS;EAAO,QAAQ,aAAa,cAAc;CAAY;AAC5E,YAAW,WAAW,WAClB,QAAO;EAAE,SAAS;EAAO,QAAQ,aAAa,cAAc;CAAiB;AAEjF,KAAI,OAAO,MAAM,MAAM,CACnB,QAAO;EAAE,SAAS;EAAO,QAAQ,aAAa,cAAc;CAAW;AAE3E,YAAW,WAAW,QAClB,QAAO;EAAE,SAAS;EAAO,QAAQ,aAAa,cAAc,qBAAqB,KAAK,UAAU,MAAM,CAAC;CAAI;AAE/G,SAAQ,OAAR;EACI,MAAM,SAAS;AACX,QAAK,OAAO,SAAS,MAAM,CACvB,QAAO;IAAE,SAAS;IAAO,QAAQ,aAAa,cAAc,wBAAwB,MAAM;GAAI;AAElG;EACH;EACD,MAAM,WAAW;AACb,OAAI,QAAQ,EACR,QAAO;IAAE,SAAS;IAAO,QAAQ,aAAa,cAAc,2BAA2B,MAAM;GAAI;AAErG;EACH;EACD,MAAM,WAAW;AACb,OAAI,QAAQ,EACR,QAAO;IAAE,SAAS;IAAO,QAAQ,aAAa,cAAc,2BAA2B,MAAM;GAAI;AAErG;EACH;EACD,MAAM,YAAY;AACd,OAAI,SAAS,EACT,QAAO;IACH,SAAS;IAAO,QAAQ,aAAa,cAAc,wBAAwB,MAAM;GACpF;AAEL;EACH;EACD,MAAM,YAAY;AACd,OAAI,SAAS,EACT,QAAO;IAAE,SAAS;IAAO,QAAQ,aAAa,cAAc,wBAAwB,MAAM;GAAI;AAElG;EACH;EACD,MAAM,aAAa;AACf,OAAI,QAAQ,KAAK,QAAQ,EACrB,QAAO;IACH,SAAS;IAAO,QAAQ,aAAa,cAAc,2CAA2C,MAAM;GACvG;AAEL;EACH;EACD,MAAM,UAAU;AACZ,OAAI,UAAU,EACV,QAAO;IAAE,SAAS;IAAO,QAAQ,aAAa,cAAc,oBAAoB,MAAM;GAAI;AAE9F;EACH;EACD,MAAM,UAAU;AACZ,OAAI,QAAQ,KAAK,QAAQ,GACrB,QAAO;IAAE,SAAS;IAAO,QAAQ,aAAa,cAAc,oDAAoD,MAAM;GAAI;AAE9H;EACH;CACJ;AACD,QAAO;EAAE,SAAS;EAAM;CAAO;AAClC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCD,MAAa,cAAc,CAAC,OAAO,iBAAiB,OAAO,WAAW,QAAQ,aAAa,cAAc;;;;;;;;;;;;;;;;;AAoBzG,MAAa,cAAc,CAAC,OAAO,SAAS,GAAG,iBAAiB,OAAO;AACnE,QAAO,eAAe,WAAW,OAAO,OAAO,cAAc,EAAE,MAAM;AACjE,OAAK,OAAO,UAAU,MAAM,CACxB,QAAO;GAAE,SAAS;GAAO,QAAQ,SAAS,cAAc;EAAsB;AAElF,SAAO;GAAE,SAAS;GAAa;EAAO;CACzC,EAAC;AACL;AACD,MAAa,mBAAmB,CAAC,YAAY;AACzC,MAAK,MAAM,KAAK,QACZ,KAAI,KAAK,IAAI,EAAE,GAAG,MAAM,EACpB,QAAO;EAAE,SAAS;EAAO,QAAQ,2BAA2B,EAAE;CAAG;AAEzE,QAAO;EAAE,SAAS;EAAM,OAAO;CAAS;AAC3C;;;;;;AAMD,MAAa,YAAY,CAAC,UAAU;AAChC,YAAW,WAAW,QAClB,SAAQ,OAAO,WAAW,MAAM;CACpC,MAAM,IAAI,YAAY,MAAM;AAC5B,QAAO,EAAE;AACZ;AAMD,MAAa,2BAA2B,CAAC,OAAO,KAAK,KAAK,iBAAiB,OAAO;AAC9E,YAAW,WAAW,QAClB,QAAO;EAAE,SAAS;EAAO,QAAQ,SAAS,cAAc,4CAA4C,MAAM,YAAY,KAAK,UAAU,MAAM,CAAC;CAAI;AAEpJ,KAAI,OAAO,MAAM,MAAM,CACnB,QAAO;EAAE,SAAS;EAAO,QAAQ,SAAS,cAAc,wBAAwB,IAAI,GAAG,IAAI;CAAa;AAE5G,KAAI,OAAO,SAAS,MAAM,EAAE;AACxB,MAAI,QAAQ,IACR,QAAO;GAAE,SAAS;GAAO,QAAQ,SAAS,cAAc,mBAAmB,IAAI,GAAG,IAAI,SAAS,MAAM;EAAG;WAEnG,QAAQ,IACb,QAAO;GAAE,SAAS;GAAO,QAAQ,SAAS,cAAc,mBAAmB,IAAI,GAAG,IAAI,SAAS,MAAM;EAAG;AAE5G,SAAO;GAAE,SAAS;GAAM;EAAO;CAClC,MAEG,QAAO;EAAE,SAAS;EAAO,QAAQ,SAAS,cAAc,wBAAwB,IAAI,GAAG,IAAI;CAAkB;AAEpH;;;;;;;;;AClPD,MAAa,YAAY,CAAC,OAAO,iBAAiB,OAAO;AACrD,MAAK,MAAM,QAAQ,MAAM,CACrB,QAAO;EAAE,SAAS;EAAO,QAAQ,aAAa,cAAc;CAAgC;AAEhG,QAAO;EAAE,SAAS;EAAM;CAAO;AAClC;;;;;;;AAUD,MAAa,iBAAiB,CAAC,OAAO,OAAO,QAAQ,WAAW;AAC5D,QAAO,eAAe,UAAU,MAAM,EAAE,YAAY,QAAQ,WAAW,KAAK,CAAC;AAShF;;;;;;AAMD,MAAa,mBAAmB,CAAC,UAAU;AACvC,MAAK,MAAM,QAAQ,MAAM,CACrB,QAAO;EAAE,SAAS;EAAO,QAAQ;CAAwB;AAC7D,MAAK,MAAM,KAAK,CAAC,aAAa,OAAO,QAAQ,CACzC,QAAO;EAAE,SAAS;EAAO,QAAQ;CAAkC;AAEvE,QAAO;EAAE,SAAS;EAAM;CAAO;AAClC;;;;AC7CD,MAAa,gBAAgB,CAAC,OAAO,iBAAiB,OAAO;AACzD,YAAW,WAAW,WAClB,QAAO;EAAE,SAAS;EAAO,QAAQ,EAAE,cAAc;CAAsB;AAE3E,KAAI,UAAU,KACV,QAAO;EAAE,SAAS;EAAO,QAAQ,EAAE,cAAc;CAAiB;AACtE,QAAO;EAAE,SAAS;EAAM;CAAO;AAClC;AAMD,MAAa,YAAY,CAAC,aAAa;;;;ACbvC,MAAa,aAAa,CAAC,WAAW,kBAAkB;AAExD,MAAa,eAAe,CAAC,OAAO,iBAAiB,OAAO;AACxD,KAAI,iBACA,QAAO;EAAE,SAAS;EAAO,QAAQ,SAAS,cAAc;CAAsC;AAClG,KAAI,UAAU,KACV,QAAO;EAAE,SAAS;EAAO,QAAQ,SAAS,cAAc;CAAiC;AAC7F,YAAW,WAAW,UAClB,QAAO;EAAE,SAAS;EAAO,QAAQ,SAAS,cAAc,oBAAoB,MAAM;CAAwB;AAC9G,QAAO;EAAE,SAAS;EAAM;CAAO;AAClC;;;;;;;;;;;;;;;ACCD,MAAa,kBAAkB,CAAC,UAAU;AACtC,YAAW,WAAW,WAAW,UAAU,KACvC,QAAO;EAAE,SAAS;EAAO,QAAQ;CAAmC;CACxE,MAAM,YAAY,OAAO,eAAe,MAAM;CAC9C,MAAM,KAAK,cAAc,QAAQ,cAAc,OAAO,aAAa,OAAO,eAAe,UAAU,KAAK,WAAW,OAAO,eAAe,YAAY,OAAO,YAAY;AACxK,KAAI,EACA,QAAO;EAAE,SAAS;EAAM;CAAO;AACnC,QAAO;EAAE,SAAS;EAAO,QAAQ;CAAe;AACnD;;;;;;AAMD,MAAa,6BAA6B,CAAC,UAAU;CACjD,MAAM,WAAW;AACjB,KAAI,OAAO,QACP,QAAO;EAAE,SAAS;EAAO,QAAQ;CAAc;AACnD,KAAI,OAAO,UACP,QAAO;EAAE,SAAS;EAAO,QAAQ;CAAgB;AACrD,KAAI,OAAO,QACP,QAAO;EAAE,SAAS;EAAa;CAAO;AAC1C,KAAI,OAAO,QACP,QAAO;EAAE,SAAS;EAAa;CAAO;AAC1C,KAAI,OAAO,QACP,QAAO;EAAE,SAAS;EAAa;CAAO;AAC1C,KAAI,OAAO,SACP,QAAO;EAAE,SAAS;EAAa;CAAO;AAC1C,QAAO,gBAAgB,MAAM;AAChC;;;;ACtCD,MAAa,mBAAmB,CAAC,GAAG,aAAa;AAC7C,QAAO,eAAe,UAAU,GAAG,SAAS,EAAE,iBAAiB,EAAE,CAAC;AACrE;;;;;;;;;AASD,MAAa,YAAY,CAAC,SAAS,aAAa;AAC5C,MAAK,MAAM,KAAK,SAAS;AACrB,MAAI,SAAS,yBACT;OAAI,KAAK,SAAS,aACd,QAAO;IAAE,SAAS;IAAO,QAAQ,SAAS,EAAE,uCAAuC,SAAS,aAAa;GAAI;EAChH;AAEL,MAAI,SAAS,yBACT;OAAI,IAAI,SAAS,aACb,QAAO;IAAE,SAAS;IAAO,QAAQ,SAAS,EAAE,gDAAgD,SAAS,aAAa;GAAI;EACzH;AAEL,MAAI,SAAS,yBACT;OAAI,KAAK,SAAS,aACd,QAAO;IAAE,SAAS;IAAO,QAAQ,SAAS,EAAE,qCAAqC,SAAS,aAAa;GAAI;EAC9G;AAEL,MAAI,SAAS,yBACT;OAAI,IAAI,SAAS,aACb,QAAO;IAAE,SAAS;IAAO,QAAQ,SAAS,EAAE,8CAA8C,SAAS,aAAa;GAAI;EACvH;CAER;AACD,QAAO;EAAE,SAAS;EAAM,OAAO;CAAS;AAC3C;;;;;;;;;AChCD,MAAa,aAAa,CAAC,OAAO,SAAS,GAAG,iBAAiB,OAAO;AAClE,YAAW,WAAW,QAClB,QAAO;EAAE,SAAS;EAAO,QAAQ,SAAS,cAAc,mCAAmC,MAAM;CAAG;AACxG,SAAQ,OAAR;EACI,MAAM;AACF,OAAI,MAAM,WAAW,EACjB,QAAO;IAAE,SAAS;IAAO,QAAQ,SAAS,cAAc;GAAY;AACxE;CACP;AACD,QAAO;EAAE,SAAS;EAAM;CAAO;AAClC"}