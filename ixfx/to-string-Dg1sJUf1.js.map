{"version":3,"file":"to-string-Dg1sJUf1.js","names":[],"sources":["../../core/dist/src/records/circular.js","../../core/dist/src/to-string.js"],"sourcesContent":["export const removeCircularReferences = (value, replaceWith = null, seen = new WeakSet(), path = ``) => {\n    if (value === null)\n        return value;\n    if (typeof value !== `object`)\n        throw new TypeError(`Param 'value' must be an object. Got type: ${typeof value}`);\n    seen.add(value);\n    const entries = Object.entries(value);\n    for (const entry of entries) {\n        if (entry[1] === null)\n            continue;\n        if (typeof entry[1] !== `object`)\n            continue;\n        if (seen.has(entry[1])) {\n            //value[ entry[0] ] = replaceWith;\n            entry[1] = replaceWith;\n            continue;\n        }\n        entry[1] = removeCircularReferences(entry[1], replaceWith, seen, `${entry[0]}.`);\n    }\n    return Object.fromEntries(entries);\n};\n","// Via Vuejs\nimport { removeCircularReferences } from \"./records/circular.js\";\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\n/**\n * Returns _true_ if `value` is a Map type\n * @param value\n * @returns\n */\nexport const isMap = (value) => toTypeString(value) === `[object Map]`;\n/**\n * Returns _true_ if `value` is a Set type\n * @param value\n * @returns\n */\nexport const isSet = (value) => toTypeString(value) === `[object Set]`;\n/**\n * A default converter to string that uses JSON.stringify if its an object, or the thing itself if it's a string\n */\nexport const toStringDefault = (itemToMakeStringFor) => typeof itemToMakeStringFor === `string`\n    ? itemToMakeStringFor\n    : JSON.stringify(itemToMakeStringFor);\n/**\n * Converts a value to string form.\n * For simple objects, .toString() is used, other JSON.stringify is used.\n * It is meant for creating debugging output or 'hash' versions of objects, and does\n * not necessarily maintain full fidelity of the input\n * @param value\n * @returns\n */\nexport const defaultToString = (value) => {\n    //ECMA specification: http://www.ecma-international.org/ecma-262/6.0/#sec-tostring\n    if (value === null)\n        return `null`;\n    if (typeof value === `boolean` || typeof value === `number`) {\n        return value.toString();\n    }\n    if (typeof value === `string`)\n        return value;\n    if (typeof value === `symbol`)\n        throw new TypeError(`Symbol cannot be converted to string`);\n    try {\n        const s = JSON.stringify(value);\n        return s;\n    }\n    catch (error) {\n        // Circular maybe\n        if (typeof value === `object`) {\n            return JSON.stringify(removeCircularReferences(value, `(circular)`));\n        }\n        else {\n            throw error;\n        }\n    }\n};\n"],"mappings":";AAAA,MAAa,2BAA2B,CAAC,OAAO,cAAc,MAAM,uBAAO,IAAI,WAAW,OAAO,EAAE,KAAK;AACpG,KAAI,UAAU,KACV,QAAO;AACX,KAAI,OAAO,UAAU,CAAC,MAAM,CAAC,CACzB,OAAM,IAAI,UAAU,CAAC,2CAA2C,EAAE,OAAO,OAAO;CACpF,KAAK,IAAI,MAAM;CACf,MAAM,UAAU,OAAO,QAAQ,MAAM;AACrC,MAAK,MAAM,SAAS,SAAS;AACzB,MAAI,MAAM,OAAO,KACb;AACJ,MAAI,OAAO,MAAM,OAAO,CAAC,MAAM,CAAC,CAC5B;AACJ,MAAI,KAAK,IAAI,MAAM,GAAG,EAAE;GAEpB,MAAM,KAAK;AACX;EACH;EACD,MAAM,KAAK,yBAAyB,MAAM,IAAI,aAAa,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC,CAAC;CACnF;AACD,QAAO,OAAO,YAAY,QAAQ;AACrC;;;;ACjBD,MAAM,iBAAiB,OAAO,UAAU;AACxC,MAAM,eAAe,CAAC,UAAU,eAAe,KAAK,MAAM;;;;;;AAM1D,MAAa,QAAQ,CAAC,UAAU,aAAa,MAAM,KAAK,CAAC,YAAY,CAAC;;;;;;AAMtE,MAAa,QAAQ,CAAC,UAAU,aAAa,MAAM,KAAK,CAAC,YAAY,CAAC;;;;AAItE,MAAa,kBAAkB,CAAC,wBAAwB,OAAO,wBAAwB,CAAC,MAAM,CAAC,GACzF,sBACA,KAAK,UAAU,oBAAoB;;;;;;;;;AASzC,MAAa,kBAAkB,CAAC,UAAU;AAEtC,KAAI,UAAU,KACV,QAAO,CAAC,IAAI,CAAC;AACjB,KAAI,OAAO,UAAU,CAAC,OAAO,CAAC,IAAI,OAAO,UAAU,CAAC,MAAM,CAAC,CACvD,QAAO,MAAM,UAAU;AAE3B,KAAI,OAAO,UAAU,CAAC,MAAM,CAAC,CACzB,QAAO;AACX,KAAI,OAAO,UAAU,CAAC,MAAM,CAAC,CACzB,OAAM,IAAI,UAAU,CAAC,oCAAoC,CAAC;AAC9D,KAAI;EACA,MAAM,IAAI,KAAK,UAAU,MAAM;AAC/B,SAAO;CACV,SACM,OAAO;AAEV,MAAI,OAAO,UAAU,CAAC,MAAM,CAAC,CACzB,QAAO,KAAK,UAAU,yBAAyB,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;MAGpE,OAAM;CAEb;AACJ"}