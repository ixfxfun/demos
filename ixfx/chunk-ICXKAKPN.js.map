{"version":3,"sources":["../src/dom/ResolveEl.ts"],"sourcesContent":["import { resultToError, type Result } from \"../util/Results.js\";\n\n/**\n * Resolves either a string or HTML element to an element.\n * Useful when an argument is either an HTML element or query.\n *\n * ```js\n * resolveEl(`#someId`);\n * resolveEl(someElement);\n * ```\n * @param domQueryOrEl\n * @returns\n */\nexport const resolveEl = <V extends Element>(domQueryOrEl: string | V | null | undefined): V => {\n  const r = resolveElementTry(domQueryOrEl);\n  if (r.success) return r.value;\n  throw resultToError(r);\n}\n\nexport const resolveElementTry = <V extends Element>(domQueryOrEl: string | V | null | undefined): Result<V> => {\n  if (typeof domQueryOrEl === `string`) {\n    const d = document.querySelector(domQueryOrEl);\n    if (d === null) {\n      const error = domQueryOrEl.startsWith(`#`) ? `Query '${ domQueryOrEl }' did not match anything. Try '#id', 'div', or '.class'`\n       : `Query '${ domQueryOrEl }' did not match anything. Did you mean '#${ domQueryOrEl }?`;\n      return {success:false,error};\n\n    }\n    domQueryOrEl = d as V;\n  } else if (domQueryOrEl === null) {\n    return {success:false,error:`Param 'domQueryOrEl' is null`};\n  } else if (domQueryOrEl === undefined) {\n    return {success:false,error:`Param 'domQueryOrEl' is undefined`};\n  }\n  const el = domQueryOrEl;\n  return {success:true,value:el};\n};\n\nexport type QueryOrElements = string | Array<Element> | Array<HTMLElement> | HTMLElement | Element\n\nexport const resolveEls = (selectors: QueryOrElements): Array<HTMLElement> => {\n  if (selectors === undefined) return [];\n  if (selectors === null) return [];\n  if (Array.isArray(selectors)) return selectors as Array<HTMLElement>;\n  if (typeof selectors === `string`) {\n    const elements = [ ...document.querySelectorAll(selectors) ]\n    return elements as Array<HTMLElement>\n  }\n  return [ selectors as HTMLElement ];\n}"],"mappings":";;;;;AAaO,IAAM,YAAY,CAAoB,iBAAmD;AAC9F,QAAM,IAAI,kBAAkB,YAAY;AACxC,MAAI,EAAE,QAAS,QAAO,EAAE;AACxB,QAAM,cAAc,CAAC;AACvB;AAEO,IAAM,oBAAoB,CAAoB,iBAA2D;AAC9G,MAAI,OAAO,iBAAiB,UAAU;AACpC,UAAM,IAAI,SAAS,cAAc,YAAY;AAC7C,QAAI,MAAM,MAAM;AACd,YAAM,QAAQ,aAAa,WAAW,GAAG,IAAI,UAAW,YAAa,4DAClE,UAAW,YAAa,4CAA6C,YAAa;AACrF,aAAO,EAAC,SAAQ,OAAM,MAAK;AAAA,IAE7B;AACA,mBAAe;AAAA,EACjB,WAAW,iBAAiB,MAAM;AAChC,WAAO,EAAC,SAAQ,OAAM,OAAM,+BAA8B;AAAA,EAC5D,WAAW,iBAAiB,QAAW;AACrC,WAAO,EAAC,SAAQ,OAAM,OAAM,oCAAmC;AAAA,EACjE;AACA,QAAM,KAAK;AACX,SAAO,EAAC,SAAQ,MAAK,OAAM,GAAE;AAC/B;AAIO,IAAM,aAAa,CAAC,cAAmD;AAC5E,MAAI,cAAc,OAAW,QAAO,CAAC;AACrC,MAAI,cAAc,KAAM,QAAO,CAAC;AAChC,MAAI,MAAM,QAAQ,SAAS,EAAG,QAAO;AACrC,MAAI,OAAO,cAAc,UAAU;AACjC,UAAM,WAAW,CAAE,GAAG,SAAS,iBAAiB,SAAS,CAAE;AAC3D,WAAO;AAAA,EACT;AACA,SAAO,CAAE,SAAyB;AACpC;","names":[]}