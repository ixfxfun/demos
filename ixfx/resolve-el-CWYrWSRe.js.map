{"version":3,"file":"resolve-el-CWYrWSRe.js","names":["domQueryOrEl: string | V | null | undefined","selectors: QueryOrElements"],"sources":["../../../ixfx/packages/dom/src/resolve-el.ts"],"sourcesContent":["import { resultToError, type Result } from \"@ixfx/guards\";\n\n/**\n * Resolves either a string or HTML element to an element.\n * Useful when an argument is either an HTML element or query.\n *\n * ```js\n * resolveEl(`#someId`);\n * resolveEl(someElement);\n * ```\n * @param domQueryOrEl\n * @returns\n */\nexport const resolveEl = <V extends Element>(domQueryOrEl: string | V | null | undefined): V => {\n  const r = resolveElementTry(domQueryOrEl);\n  if (r.success) return r.value;\n  throw resultToError(r);\n}\n\nexport const resolveElementTry = <V extends Element>(domQueryOrEl: string | V | null | undefined): Result<V, string> => {\n  if (typeof domQueryOrEl === `string`) {\n    const d = document.querySelector(domQueryOrEl);\n    if (d === null) {\n      const error = domQueryOrEl.startsWith(`#`) ? `Query '${ domQueryOrEl }' did not match anything. Try '#id', 'div', or '.class'`\n        : `Query '${ domQueryOrEl }' did not match anything. Did you mean '#${ domQueryOrEl }?`;\n      return { success: false, error };\n\n    }\n    domQueryOrEl = d as V;\n  } else if (domQueryOrEl === null) {\n    return { success: false, error: `Param 'domQueryOrEl' is null` };\n  } else if (domQueryOrEl === undefined) {\n    return { success: false, error: `Param 'domQueryOrEl' is undefined` };\n  }\n  const el = domQueryOrEl;\n  return { success: true, value: el };\n};\n\nexport type QueryOrElements = string | Element[] | HTMLElement[] | HTMLElement | Element\n\nexport const resolveEls = (selectors: QueryOrElements): HTMLElement[] => {\n  if (selectors === undefined) return [];\n  if (selectors === null) return [];\n  if (Array.isArray(selectors)) return selectors as HTMLElement[];\n  if (typeof selectors === `string`) {\n    const elements = [ ...document.querySelectorAll(selectors) ]\n    return elements as HTMLElement[]\n  }\n  return [ selectors as HTMLElement ];\n}"],"mappings":";;;;;;;;;;;;;;AAaA,MAAa,YAAY,CAAoBA,iBAAmD;CAC9F,MAAM,IAAI,kBAAkB,aAAa;AACzC,KAAI,EAAE,QAAS,QAAO,EAAE;AACxB,OAAM,cAAc,EAAE;AACvB;AAED,MAAa,oBAAoB,CAAoBA,iBAAmE;AACtH,YAAW,kBAAkB,SAAS;EACpC,MAAM,IAAI,SAAS,cAAc,aAAa;AAC9C,MAAI,MAAM,MAAM;GACd,MAAM,QAAQ,aAAa,YAAY,GAAG,IAAI,SAAU,aAAc,4DACjE,SAAU,aAAc,2CAA4C,aAAc;AACvF,UAAO;IAAE,SAAS;IAAO;GAAO;EAEjC;AACD,iBAAe;CAChB,WAAU,iBAAiB,KAC1B,QAAO;EAAE,SAAS;EAAO,QAAQ;CAA+B;UACvD,wBACT,QAAO;EAAE,SAAS;EAAO,QAAQ;CAAoC;CAEvE,MAAM,KAAK;AACX,QAAO;EAAE,SAAS;EAAM,OAAO;CAAI;AACpC;AAID,MAAa,aAAa,CAACC,cAA8C;AACvE,KAAI,qBAAyB,QAAO,CAAE;AACtC,KAAI,cAAc,KAAM,QAAO,CAAE;AACjC,KAAI,MAAM,QAAQ,UAAU,CAAE,QAAO;AACrC,YAAW,eAAe,SAAS;EACjC,MAAM,WAAW,CAAE,GAAG,SAAS,iBAAiB,UAAU,AAAE;AAC5D,SAAO;CACR;AACD,QAAO,CAAE,SAA0B;AACpC"}