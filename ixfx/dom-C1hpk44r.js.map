{"version":3,"file":"dom-C1hpk44r.js","names":["value: T","el","query","el","el","module","document","key","c","source","exports","pos","codePointAt","fromCodePoint","parse","key$1","token","buffer","stringify","stack","value","i","list","data","rect: RectPositioned","card: GridCardinalDirection | `center`","options: Readonly<{ source?: RandomSource }>","PointsPlaceholder","RectsPlaceholderPositioned","PointsEmpty","#el","#containerEl","#stretch","#onSetSize","#size","#naturalRatio","#naturalSize","#viewport","#byViewport","#byContainer","#disposed","#resizeObservable","el","#onParentResize","#computeSizeBasedOnParent","#onViewportResize","el","el","log","timestamp","clear","el","select","el"],"sources":["../../packages/core/src/track-unique.ts","../../packages/dom/dist/src/css-angle.js","../../packages/dom/dist/src/resolve-el.js","../../packages/dom/dist/src/ts-util.js","../../packages/dom/dist/src/css-variables.js","../../packages/dom/dist/src/css.js","../../node_modules/.pnpm/json5@2.2.3/node_modules/json5/dist/index.js","../../packages/dom/dist/src/data-table.js","../../packages/dom/dist/src/data-display.js","../../packages/geometry/src/rect/cardinal.ts","../../packages/random/src/guid.ts","../../packages/dom/dist/src/drag-drop.js","../../packages/dom/dist/src/set-property.js","../../packages/dom/dist/src/el.js","../../packages/dom/dist/src/element-sizing.js","../../packages/dom/dist/src/error-handler.js","../../packages/dom/dist/src/forms.js","../../packages/dom/dist/src/shadow-dom.js","../../packages/dom/dist/src/log.js","../../packages/dom/dist/src/inline-console.js","../../packages/dom/dist/src/query.js","../../packages/dom/dist/src/tabbed-panel.js","../../packages/dom/dist/src/utility.js","../src/dom.ts"],"sourcesContent":["import { toStringDefault, type ToString } from \"@ixfx/core\";\n\nexport type TrackUnique<T> = (value: T) => boolean\n\n/**\n * Tracks unique values. Returns _true_ if value is unique.\n * Alternatively: {@link uniqueInstances}\n * \n * ```js\n * const t = unique();\n * t(`hello`); // true\n * t(`hello`); // false\n * ```\n * \n * Uses JSON.stringify to compare anything which is not a string.\n * \n * Provide a custom function to convert to string to track uniqueness\n * for more complicated objects.\n * \n * ```js\n * const t = unique(p => p.name);\n * t({ name:`John`, level:2 }); // true\n * \n * // Since we're judging uniques by name only\n * t({ name:`John`, level:3 }); // false\n * ```\n * \n * Return function throws an error if `value` is null or undefined.\n * @returns \n */\nexport const unique = <T>(toString: ToString<T> = toStringDefault): TrackUnique<T> => {\n  const set = new Set<string>();\n\n  return (value: T) => {\n    if (value === null) throw new TypeError(`Param 'value' cannot be null`);\n    if (value === undefined) throw new TypeError(`Param 'value' cannot be undefined`);\n\n    const asString = (typeof value === `string`) ? value : toString(value);\n    if (set.has(asString)) return false;\n    set.add(asString);\n    return true;\n  }\n}\n\n/**\n * Tracks unique object instances. Returns _true_ if value is unique.\n * Alternatively: {@link unique} to track by value.\n */\nexport const uniqueInstances = <T>(): TrackUnique<T> => {\n\n  const set = new Set<T>();\n  return (value: T) => {\n    if (value === null) throw new TypeError(`Param 'value' cannot be null`);\n    if (value === undefined) throw new TypeError(`Param 'value' cannot be undefined`);\n\n    if (set.has(value)) return false;\n    set.add(value);\n    return true;\n  }\n}","export const cssAngleParse = (value) => {\n    if (typeof value === `number`) {\n        return {\n            value, unit: `deg`\n        };\n    }\n    value = value.toLowerCase();\n    if (value.endsWith(`rad`)) {\n        return {\n            value: Number.parseFloat(value.substring(0, value.length - 3)),\n            unit: `rad`\n        };\n    }\n    if (value.endsWith(`turn`)) {\n        return {\n            value: Number.parseFloat(value.substring(0, value.length - 4)),\n            unit: `turn`\n        };\n    }\n    if (value.endsWith(`deg`)) {\n        return {\n            value: Number.parseFloat(value.substring(0, value.length - 3)),\n            unit: `deg`\n        };\n    }\n    return {\n        value: Number.parseFloat(value),\n        unit: `deg`\n    };\n};\n","import { resultToError } from \"@ixfx/guards\";\n/**\n * Resolves either a string or HTML element to an element.\n * Useful when an argument is either an HTML element or query.\n *\n * ```js\n * resolveEl(`#someId`);\n * resolveEl(someElement);\n * ```\n * @param domQueryOrEl\n * @returns\n */\nexport const resolveEl = (domQueryOrEl) => {\n    const r = resolveElementTry(domQueryOrEl);\n    if (r.success)\n        return r.value;\n    throw resultToError(r);\n};\nexport const resolveElementTry = (domQueryOrEl) => {\n    if (typeof domQueryOrEl === `string`) {\n        const d = document.querySelector(domQueryOrEl);\n        if (d === null) {\n            const error = domQueryOrEl.startsWith(`#`) ? `Query '${domQueryOrEl}' did not match anything. Try '#id', 'div', or '.class'`\n                : `Query '${domQueryOrEl}' did not match anything. Did you mean '#${domQueryOrEl}?`;\n            return { success: false, error };\n        }\n        domQueryOrEl = d;\n    }\n    else if (domQueryOrEl === null) {\n        return { success: false, error: `Param 'domQueryOrEl' is null` };\n    }\n    else if (domQueryOrEl === undefined) {\n        return { success: false, error: `Param 'domQueryOrEl' is undefined` };\n    }\n    const el = domQueryOrEl;\n    return { success: true, value: el };\n};\nexport const resolveEls = (selectors) => {\n    if (selectors === undefined)\n        return [];\n    if (selectors === null)\n        return [];\n    if (Array.isArray(selectors))\n        return selectors;\n    if (typeof selectors === `string`) {\n        const elements = [...document.querySelectorAll(selectors)];\n        return elements;\n    }\n    return [selectors];\n};\n","/* eslint-disable unicorn/prevent-abbreviations */\nexport function isHtmlElement(o) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return (typeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\n        o && typeof o === \"object\" && o !== null && o.nodeType === 1 && typeof o.nodeName === \"string\");\n}\n","import * as Text from \"@ixfx/core/text\";\nimport { resolveEl } from \"./resolve-el.js\";\nimport { isHtmlElement } from \"./ts-util.js\";\n/**\n * Parses input in the form of: `['elementid-attribute', 'default-value']`.\n * Eg, `['indicator-fill', 'gray']` will yield:\n * ```\n * { variable: `indicator-fill`, attribute: `fill`, id: `indicator`, defaultValue: `gray` }\n * ```\n *\n * Once parsed, use {@link setFromVariables} to apply data.\n *\n * ```js\n * // Array of arrays is treated as a set of key-value pairs\n * const options = [ [`indicator-fill`, `gray`], [`backdrop-fill`, `whitesmoke`] ]\n * const attrs = parseAsAttributes(options);\n * Yields:\n * [\n *  { variable: `indicator-fill`, attribute: `fill`, id: `indicator`, defaultValue: `gray` }\n *  { variable: `backdrop-fill`, attribute: `fill`, id: `backdrop`, defaultValue: `whitesmoke` }\n * ]\n *\n * // Assign\n * setFromCssVariables(document.body, attrs);\n * ```\n * @param options\n * @returns\n */\nexport const parseAsAttributes = (options) => {\n    return options.map(opt => {\n        let defaultValue;\n        // Nested array, treat second element as default value, name as first\n        if (Array.isArray(opt)) {\n            defaultValue = opt[1];\n            opt = opt[0];\n        }\n        const dash = opt.indexOf(`-`);\n        if (dash < 0)\n            throw new Error(`Simple expression expects form of: 'elementid-attribute'`);\n        return {\n            variable: opt,\n            attribute: opt.slice(dash + 1),\n            id: opt.slice(0, dash),\n            defaultValue\n        };\n    });\n};\n/**\n * Reads the value of a CSS variable and assign it to HTML attributes or object field.\n *\n * ```js\n * const options = [\n *  // Set the 'width' attribute to the value of --some-css-variable to all elements with class 'blah'\n *  { query: `.blah`, variable: `some-css-variable`, attribute: `width` }\n *\n *  // Set #blah's 'size' attribute to the value of css variable '--size'\n *  { id: 'blah', variable: 'size', attribute: 'size' }\n *\n *  // Sets someEL.blah = css variable '--hue'\n *  { element: someEl, variable: `hue`, field: `blah` }\n * ]\n *\n * setFromVariables(document.body, ...options);\n * ```\n *\n * The first parameter is the context for which CSS variable values are fetched\n * as well as for resolving query selectors. This can usually be `document.body`.\n * @param context Context element which is needed for relative querying. Otherwise use document.body\n * @param options Details of what to do\n */\nexport const setFromVariables = (context, ...options) => {\n    const contextEl = resolveEl(context);\n    const style = window.getComputedStyle(contextEl);\n    for (const opt of options) {\n        const variable = Text.afterMatch(opt.variable, `--`);\n        let v = style.getPropertyValue(`--${variable}`);\n        if (v === null || v.length === 0) {\n            if (opt.defaultValue === undefined) {\n                continue;\n            }\n            else {\n                v = opt.defaultValue;\n            }\n        }\n        let query;\n        let els; //: SVGElement | HTMLElement | null | undefined;\n        if (`query` in opt && opt.query !== undefined) {\n            query = opt.query;\n        }\n        else if (`id` in opt && opt.id !== undefined) {\n            query = `#${opt.id}`;\n        }\n        else if (`object` in opt && opt.object !== undefined) {\n            els = Array.isArray(opt.object) ? opt.object : [opt.object];\n        }\n        if (query === undefined) {\n            // No query\n            if (els === undefined) {\n                // If there's no query or objects, there's nothing to do\n                throw new Error(`Missing 'query', 'id' or 'object' fields`);\n            }\n        }\n        else {\n            // Run query\n            els = [...contextEl.querySelectorAll(query)]; // as SVGElement | HTMLElement | null | undefined;\n        }\n        if (els === null)\n            continue;\n        if (els === undefined)\n            continue;\n        if (opt.attribute) {\n            for (const el of els) {\n                if (isHtmlElement(el)) {\n                    el.setAttribute(opt.attribute, v);\n                }\n                else {\n                    throw new Error(`Trying to set an attribute on something not a HTML element`, el);\n                }\n            }\n        }\n        else if (opt.field) {\n            for (const el of els) {\n                if (typeof el === `object`) {\n                    (el)[opt.field] = v;\n                }\n                else {\n                    throw new Error(`Trying to set field on something that is not an object (${typeof el})`, el);\n                }\n            }\n        }\n        else {\n            throw new Error(`Neither 'attribute' or 'field' to set is defined in option (${JSON.stringify(opt)})`);\n        }\n    }\n};\n/**\n * Computes the styles for `elt` (or defaults to document.body) using `fallback`\n * as a set of default values.\n *\n * ```js\n * // Fetch styles\n * const styles = getWithFallback({\n *  my_var: `red`\n * }, element);\n *\n * // Access --my-var, or if it doesn't exist returns 'red'\n * styles.my_var;\n * ```\n *\n * Hyphen case (eg 'my-var') is a common way of delimiting words in CSS variables, but\n * can't be (elegantly) used in object properties. Instead, use '_' in the\n * object key, which is replaced with '-'.\n *\n * The leading '--' is not needed either.\n * @param fallback\n * @param elt\n * @returns\n */\nexport function getWithFallback(fallback, elt) {\n    const styles = getComputedStyle(elt ?? document.body);\n    const entries = Object.entries(fallback);\n    const filledEntries = entries.map(entry => {\n        return [entry[0], getFromStyles(styles, entry[0], entry[1])];\n    });\n    return Object.fromEntries(filledEntries);\n}\n/**\n * Sets CSS variables.\n * ```js\n * const vars = {\n *  my_var: `red`,\n *  my_size: 10\n * }\n *\n * // Set to document.body\n * setVariables(vars);\n *\n * // Set to an element\n * setVariables(vars, elem);\n *\n * // Or to a CSSStyleDeclaration\n * setVariables(vars, styles);\n * ```\n * @param vars\n * @param stylesOrEl\n */\nexport function setVariables(variables, stylesOrEl) {\n    const styles = stylesOrEl === undefined ? document.body.style :\n        isHtmlElement(stylesOrEl) ? stylesOrEl.style : stylesOrEl;\n    for (const [key, value] of Object.entries(variables)) {\n        let variableName = key.replaceAll('_', '-');\n        if (!variableName.startsWith(`--`))\n            variableName = `--` + variableName;\n        styles.setProperty(variableName, value.toString());\n    }\n}\n/**\n * Returns a CSS variable from a CSS style declaration, or returning `fallback`.\n * ```js\n * // These will all access --my-var\n * getFromStyles(getComputedStyle(element), `--my-var`, `red`);\n * getFromStyles(getComputedStyle(element), `my-var`, `red`);\n * getFromStyles(getComputedStyle(element), `my_var`, `red`);\n * ```\n * @param styles\n * @param name\n * @param fallback\n * @returns\n */\nexport function getFromStyles(styles, name, fallback) {\n    if (!name.startsWith(`--`))\n        name = `--` + name;\n    name = name.replaceAll(`_`, `-`);\n    const v = styles.getPropertyValue(name);\n    if (v.length === 0) {\n        return fallback;\n    }\n    if (typeof fallback === `number`)\n        return parseFloat(v);\n    if (typeof fallback === `boolean`) {\n        if (v === `true`)\n            return true;\n        else if (v === `false`)\n            return false;\n    }\n    return v;\n}\n","import { resolveEl, resolveEls } from \"./resolve-el.js\";\n/**\n * Returns the value of `getBoundingClientRect` plus the width of all the borders\n * @param elOrQuery\n * @returns\n */\nexport const getBoundingClientRectWithBorder = (elOrQuery) => {\n    let el = resolveEl(elOrQuery);\n    const size = el.getBoundingClientRect();\n    if (el instanceof SVGElement) {\n        el = el.parentElement;\n    }\n    const border = getComputedPixels(el, `borderTopWidth`, `borderLeftWidth`, `borderRightWidth`, `borderBottomWidth`);\n    return {\n        x: size.x,\n        y: size.y,\n        width: size.width + border.borderLeftWidth + border.borderRightWidth,\n        height: size.height + border.borderTopWidth + border.borderBottomWidth\n    };\n};\n/**\n * Returns the computed measurements of CSS properties via [getComputedStyle](https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle).\n * ```js\n * const v = getComputedPixels(`#some-el`, `borderTopWidth`, `borderLeftWidth`);\n * v.borderTopWidth;  // number\n * b.borderLeftWidth; // number\n * ```\n *\n * Throws an error if value from `getComputedStyle` is not a string or does not end in 'px'.\n * @param elOrQuery\n * @param properties\n * @returns\n */\nexport const getComputedPixels = (elOrQuery, ...properties) => {\n    const s = getComputedStyle(resolveEl(elOrQuery));\n    const returnValue = {};\n    for (const property of properties) {\n        const v = s[property];\n        if (typeof v === `string`) {\n            if (v.endsWith(`px`)) {\n                returnValue[property] = Number.parseFloat(v.substring(0, v.length - 2));\n            }\n            else {\n                throw new Error(`Property '${String(property)}' does not end in 'px'. Value: ${v}`);\n            }\n        }\n        else {\n            throw new Error(`Property '${String(property)}' is not type string. Got: ${typeof v} Value: ${v}`);\n        }\n    }\n    return returnValue;\n};\n/**\n * Adds `cssClass` to element(s) if `value` is true.\n * ```js\n * setClass(`#someId`, true, `activated`);\n * ```\n * @param selectors\n * @param value\n * @param cssClass\n * @returns\n */\nexport const setCssClass = (selectors, value, cssClass) => {\n    const elements = resolveEls(selectors);\n    if (elements.length === 0)\n        return;\n    for (const element of elements) {\n        if (value)\n            element.classList.add(cssClass);\n        else\n            element.classList.remove(cssClass);\n    }\n};\n/**\n * Toggles a CSS class on all elements that match selector\n * @param selectors\n * @param cssClass\n * @returns\n */\nexport const setCssToggle = (selectors, cssClass) => {\n    const elements = resolveEls(selectors);\n    if (elements.length === 0)\n        return;\n    for (const element of elements) {\n        element.classList.toggle(cssClass);\n    }\n};\nexport const setCssDisplay = (selectors, value) => {\n    const elements = resolveEls(selectors);\n    if (elements.length === 0)\n        return;\n    for (const element of elements) {\n        (element).style.display = value;\n    }\n};\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.JSON5 = factory());\n}(this, (function () { 'use strict';\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar _global = createCommonjsModule(function (module) {\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n\t  ? window : typeof self != 'undefined' && self.Math == Math ? self\n\t  // eslint-disable-next-line no-new-func\n\t  : Function('return this')();\n\tif (typeof __g == 'number') { __g = global; } // eslint-disable-line no-undef\n\t});\n\n\tvar _core = createCommonjsModule(function (module) {\n\tvar core = module.exports = { version: '2.6.5' };\n\tif (typeof __e == 'number') { __e = core; } // eslint-disable-line no-undef\n\t});\n\tvar _core_1 = _core.version;\n\n\tvar _isObject = function (it) {\n\t  return typeof it === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n\tvar _anObject = function (it) {\n\t  if (!_isObject(it)) { throw TypeError(it + ' is not an object!'); }\n\t  return it;\n\t};\n\n\tvar _fails = function (exec) {\n\t  try {\n\t    return !!exec();\n\t  } catch (e) {\n\t    return true;\n\t  }\n\t};\n\n\t// Thank's IE8 for his funny defineProperty\n\tvar _descriptors = !_fails(function () {\n\t  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\tvar document = _global.document;\n\t// typeof document.createElement is 'object' in old IE\n\tvar is = _isObject(document) && _isObject(document.createElement);\n\tvar _domCreate = function (it) {\n\t  return is ? document.createElement(it) : {};\n\t};\n\n\tvar _ie8DomDefine = !_descriptors && !_fails(function () {\n\t  return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;\n\t});\n\n\t// 7.1.1 ToPrimitive(input [, PreferredType])\n\n\t// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n\t// and the second argument - flag - preferred type is a string\n\tvar _toPrimitive = function (it, S) {\n\t  if (!_isObject(it)) { return it; }\n\t  var fn, val;\n\t  if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) { return val; }\n\t  throw TypeError(\"Can't convert object to primitive value\");\n\t};\n\n\tvar dP = Object.defineProperty;\n\n\tvar f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n\t  _anObject(O);\n\t  P = _toPrimitive(P, true);\n\t  _anObject(Attributes);\n\t  if (_ie8DomDefine) { try {\n\t    return dP(O, P, Attributes);\n\t  } catch (e) { /* empty */ } }\n\t  if ('get' in Attributes || 'set' in Attributes) { throw TypeError('Accessors not supported!'); }\n\t  if ('value' in Attributes) { O[P] = Attributes.value; }\n\t  return O;\n\t};\n\n\tvar _objectDp = {\n\t\tf: f\n\t};\n\n\tvar _propertyDesc = function (bitmap, value) {\n\t  return {\n\t    enumerable: !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable: !(bitmap & 4),\n\t    value: value\n\t  };\n\t};\n\n\tvar _hide = _descriptors ? function (object, key, value) {\n\t  return _objectDp.f(object, key, _propertyDesc(1, value));\n\t} : function (object, key, value) {\n\t  object[key] = value;\n\t  return object;\n\t};\n\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tvar _has = function (it, key) {\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n\tvar id = 0;\n\tvar px = Math.random();\n\tvar _uid = function (key) {\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n\tvar _library = false;\n\n\tvar _shared = createCommonjsModule(function (module) {\n\tvar SHARED = '__core-js_shared__';\n\tvar store = _global[SHARED] || (_global[SHARED] = {});\n\n\t(module.exports = function (key, value) {\n\t  return store[key] || (store[key] = value !== undefined ? value : {});\n\t})('versions', []).push({\n\t  version: _core.version,\n\t  mode: _library ? 'pure' : 'global',\n\t  copyright: 'Â© 2019 Denis Pushkarev (zloirock.ru)'\n\t});\n\t});\n\n\tvar _functionToString = _shared('native-function-to-string', Function.toString);\n\n\tvar _redefine = createCommonjsModule(function (module) {\n\tvar SRC = _uid('src');\n\n\tvar TO_STRING = 'toString';\n\tvar TPL = ('' + _functionToString).split(TO_STRING);\n\n\t_core.inspectSource = function (it) {\n\t  return _functionToString.call(it);\n\t};\n\n\t(module.exports = function (O, key, val, safe) {\n\t  var isFunction = typeof val == 'function';\n\t  if (isFunction) { _has(val, 'name') || _hide(val, 'name', key); }\n\t  if (O[key] === val) { return; }\n\t  if (isFunction) { _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key))); }\n\t  if (O === _global) {\n\t    O[key] = val;\n\t  } else if (!safe) {\n\t    delete O[key];\n\t    _hide(O, key, val);\n\t  } else if (O[key]) {\n\t    O[key] = val;\n\t  } else {\n\t    _hide(O, key, val);\n\t  }\n\t// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n\t})(Function.prototype, TO_STRING, function toString() {\n\t  return typeof this == 'function' && this[SRC] || _functionToString.call(this);\n\t});\n\t});\n\n\tvar _aFunction = function (it) {\n\t  if (typeof it != 'function') { throw TypeError(it + ' is not a function!'); }\n\t  return it;\n\t};\n\n\t// optional / simple context binding\n\n\tvar _ctx = function (fn, that, length) {\n\t  _aFunction(fn);\n\t  if (that === undefined) { return fn; }\n\t  switch (length) {\n\t    case 1: return function (a) {\n\t      return fn.call(that, a);\n\t    };\n\t    case 2: return function (a, b) {\n\t      return fn.call(that, a, b);\n\t    };\n\t    case 3: return function (a, b, c) {\n\t      return fn.call(that, a, b, c);\n\t    };\n\t  }\n\t  return function (/* ...args */) {\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n\tvar PROTOTYPE = 'prototype';\n\n\tvar $export = function (type, name, source) {\n\t  var IS_FORCED = type & $export.F;\n\t  var IS_GLOBAL = type & $export.G;\n\t  var IS_STATIC = type & $export.S;\n\t  var IS_PROTO = type & $export.P;\n\t  var IS_BIND = type & $export.B;\n\t  var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];\n\t  var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});\n\t  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n\t  var key, own, out, exp;\n\t  if (IS_GLOBAL) { source = name; }\n\t  for (key in source) {\n\t    // contains in native\n\t    own = !IS_FORCED && target && target[key] !== undefined;\n\t    // export native or passed\n\t    out = (own ? target : source)[key];\n\t    // bind timers to global for call from export context\n\t    exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;\n\t    // extend global\n\t    if (target) { _redefine(target, key, out, type & $export.U); }\n\t    // export\n\t    if (exports[key] != out) { _hide(exports, key, exp); }\n\t    if (IS_PROTO && expProto[key] != out) { expProto[key] = out; }\n\t  }\n\t};\n\t_global.core = _core;\n\t// type bitmap\n\t$export.F = 1;   // forced\n\t$export.G = 2;   // global\n\t$export.S = 4;   // static\n\t$export.P = 8;   // proto\n\t$export.B = 16;  // bind\n\t$export.W = 32;  // wrap\n\t$export.U = 64;  // safe\n\t$export.R = 128; // real proto method for `library`\n\tvar _export = $export;\n\n\t// 7.1.4 ToInteger\n\tvar ceil = Math.ceil;\n\tvar floor = Math.floor;\n\tvar _toInteger = function (it) {\n\t  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n\t};\n\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tvar _defined = function (it) {\n\t  if (it == undefined) { throw TypeError(\"Can't call method on  \" + it); }\n\t  return it;\n\t};\n\n\t// true  -> String#at\n\t// false -> String#codePointAt\n\tvar _stringAt = function (TO_STRING) {\n\t  return function (that, pos) {\n\t    var s = String(_defined(that));\n\t    var i = _toInteger(pos);\n\t    var l = s.length;\n\t    var a, b;\n\t    if (i < 0 || i >= l) { return TO_STRING ? '' : undefined; }\n\t    a = s.charCodeAt(i);\n\t    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n\t      ? TO_STRING ? s.charAt(i) : a\n\t      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n\t  };\n\t};\n\n\tvar $at = _stringAt(false);\n\t_export(_export.P, 'String', {\n\t  // 21.1.3.3 String.prototype.codePointAt(pos)\n\t  codePointAt: function codePointAt(pos) {\n\t    return $at(this, pos);\n\t  }\n\t});\n\n\tvar codePointAt = _core.String.codePointAt;\n\n\tvar max = Math.max;\n\tvar min = Math.min;\n\tvar _toAbsoluteIndex = function (index, length) {\n\t  index = _toInteger(index);\n\t  return index < 0 ? max(index + length, 0) : min(index, length);\n\t};\n\n\tvar fromCharCode = String.fromCharCode;\n\tvar $fromCodePoint = String.fromCodePoint;\n\n\t// length should be 1, old FF problem\n\t_export(_export.S + _export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n\t  // 21.1.2.2 String.fromCodePoint(...codePoints)\n\t  fromCodePoint: function fromCodePoint(x) {\n\t    var arguments$1 = arguments;\n\t // eslint-disable-line no-unused-vars\n\t    var res = [];\n\t    var aLen = arguments.length;\n\t    var i = 0;\n\t    var code;\n\t    while (aLen > i) {\n\t      code = +arguments$1[i++];\n\t      if (_toAbsoluteIndex(code, 0x10ffff) !== code) { throw RangeError(code + ' is not a valid code point'); }\n\t      res.push(code < 0x10000\n\t        ? fromCharCode(code)\n\t        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n\t      );\n\t    } return res.join('');\n\t  }\n\t});\n\n\tvar fromCodePoint = _core.String.fromCodePoint;\n\n\t// This is a generated file. Do not edit.\n\tvar Space_Separator = /[\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\n\tvar ID_Start = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE83\\uDE86-\\uDE89\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]/;\n\tvar ID_Continue = /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u08D4-\\u08E1\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u09FC\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9-\\u0AFF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C80-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D00-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D54-\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1C80-\\u1C88\\u1CD0-\\u1CD2\\u1CD4-\\u1CF9\\u1D00-\\u1DF9\\u1DFB-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312E\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEA\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AE\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF2D-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE3E\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC00-\\uDC4A\\uDC50-\\uDC59\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDE00-\\uDE3E\\uDE47\\uDE50-\\uDE83\\uDE86-\\uDE99\\uDEC0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC36\\uDC38-\\uDC40\\uDC50-\\uDC59\\uDC72-\\uDC8F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD47\\uDD50-\\uDD59]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD81C-\\uD820\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F\\uDFE0\\uDFE1]|\\uD821[\\uDC00-\\uDFEC]|\\uD822[\\uDC00-\\uDEF2]|\\uD82C[\\uDC00-\\uDD1E\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6\\uDD00-\\uDD4A\\uDD50-\\uDD59]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/;\n\n\tvar unicode = {\n\t\tSpace_Separator: Space_Separator,\n\t\tID_Start: ID_Start,\n\t\tID_Continue: ID_Continue\n\t};\n\n\tvar util = {\n\t    isSpaceSeparator: function isSpaceSeparator (c) {\n\t        return typeof c === 'string' && unicode.Space_Separator.test(c)\n\t    },\n\n\t    isIdStartChar: function isIdStartChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c === '$') || (c === '_') ||\n\t        unicode.ID_Start.test(c)\n\t        )\n\t    },\n\n\t    isIdContinueChar: function isIdContinueChar (c) {\n\t        return typeof c === 'string' && (\n\t            (c >= 'a' && c <= 'z') ||\n\t        (c >= 'A' && c <= 'Z') ||\n\t        (c >= '0' && c <= '9') ||\n\t        (c === '$') || (c === '_') ||\n\t        (c === '\\u200C') || (c === '\\u200D') ||\n\t        unicode.ID_Continue.test(c)\n\t        )\n\t    },\n\n\t    isDigit: function isDigit (c) {\n\t        return typeof c === 'string' && /[0-9]/.test(c)\n\t    },\n\n\t    isHexDigit: function isHexDigit (c) {\n\t        return typeof c === 'string' && /[0-9A-Fa-f]/.test(c)\n\t    },\n\t};\n\n\tvar source;\n\tvar parseState;\n\tvar stack;\n\tvar pos;\n\tvar line;\n\tvar column;\n\tvar token;\n\tvar key;\n\tvar root;\n\n\tvar parse = function parse (text, reviver) {\n\t    source = String(text);\n\t    parseState = 'start';\n\t    stack = [];\n\t    pos = 0;\n\t    line = 1;\n\t    column = 0;\n\t    token = undefined;\n\t    key = undefined;\n\t    root = undefined;\n\n\t    do {\n\t        token = lex();\n\n\t        // This code is unreachable.\n\t        // if (!parseStates[parseState]) {\n\t        //     throw invalidParseState()\n\t        // }\n\n\t        parseStates[parseState]();\n\t    } while (token.type !== 'eof')\n\n\t    if (typeof reviver === 'function') {\n\t        return internalize({'': root}, '', reviver)\n\t    }\n\n\t    return root\n\t};\n\n\tfunction internalize (holder, name, reviver) {\n\t    var value = holder[name];\n\t    if (value != null && typeof value === 'object') {\n\t        if (Array.isArray(value)) {\n\t            for (var i = 0; i < value.length; i++) {\n\t                var key = String(i);\n\t                var replacement = internalize(value, key, reviver);\n\t                if (replacement === undefined) {\n\t                    delete value[key];\n\t                } else {\n\t                    Object.defineProperty(value, key, {\n\t                        value: replacement,\n\t                        writable: true,\n\t                        enumerable: true,\n\t                        configurable: true,\n\t                    });\n\t                }\n\t            }\n\t        } else {\n\t            for (var key$1 in value) {\n\t                var replacement$1 = internalize(value, key$1, reviver);\n\t                if (replacement$1 === undefined) {\n\t                    delete value[key$1];\n\t                } else {\n\t                    Object.defineProperty(value, key$1, {\n\t                        value: replacement$1,\n\t                        writable: true,\n\t                        enumerable: true,\n\t                        configurable: true,\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    }\n\n\t    return reviver.call(holder, name, value)\n\t}\n\n\tvar lexState;\n\tvar buffer;\n\tvar doubleQuote;\n\tvar sign;\n\tvar c;\n\n\tfunction lex () {\n\t    lexState = 'default';\n\t    buffer = '';\n\t    doubleQuote = false;\n\t    sign = 1;\n\n\t    for (;;) {\n\t        c = peek();\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[lexState]) {\n\t        //     throw invalidLexState(lexState)\n\t        // }\n\n\t        var token = lexStates[lexState]();\n\t        if (token) {\n\t            return token\n\t        }\n\t    }\n\t}\n\n\tfunction peek () {\n\t    if (source[pos]) {\n\t        return String.fromCodePoint(source.codePointAt(pos))\n\t    }\n\t}\n\n\tfunction read () {\n\t    var c = peek();\n\n\t    if (c === '\\n') {\n\t        line++;\n\t        column = 0;\n\t    } else if (c) {\n\t        column += c.length;\n\t    } else {\n\t        column++;\n\t    }\n\n\t    if (c) {\n\t        pos += c.length;\n\t    }\n\n\t    return c\n\t}\n\n\tvar lexStates = {\n\t    default: function default$1 () {\n\t        switch (c) {\n\t        case '\\t':\n\t        case '\\v':\n\t        case '\\f':\n\t        case ' ':\n\t        case '\\u00A0':\n\t        case '\\uFEFF':\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'comment';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        if (util.isSpaceSeparator(c)) {\n\t            read();\n\t            return\n\t        }\n\n\t        // This code is unreachable.\n\t        // if (!lexStates[parseState]) {\n\t        //     throw invalidLexState(parseState)\n\t        // }\n\n\t        return lexStates[parseState]()\n\t    },\n\n\t    comment: function comment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineComment';\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'singleLineComment';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    multiLineComment: function multiLineComment () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            lexState = 'multiLineCommentAsterisk';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    },\n\n\t    multiLineCommentAsterisk: function multiLineCommentAsterisk () {\n\t        switch (c) {\n\t        case '*':\n\t            read();\n\t            return\n\n\t        case '/':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        lexState = 'multiLineComment';\n\t    },\n\n\t    singleLineComment: function singleLineComment () {\n\t        switch (c) {\n\t        case '\\n':\n\t        case '\\r':\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            read();\n\t            lexState = 'default';\n\t            return\n\n\t        case undefined:\n\t            read();\n\t            return newToken('eof')\n\t        }\n\n\t        read();\n\t    },\n\n\t    value: function value () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        case 'n':\n\t            read();\n\t            literal('ull');\n\t            return newToken('null', null)\n\n\t        case 't':\n\t            read();\n\t            literal('rue');\n\t            return newToken('boolean', true)\n\n\t        case 'f':\n\t            read();\n\t            literal('alse');\n\t            return newToken('boolean', false)\n\n\t        case '-':\n\t        case '+':\n\t            if (read() === '-') {\n\t                sign = -1;\n\t            }\n\n\t            lexState = 'sign';\n\t            return\n\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            buffer = '';\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    identifierNameStartEscape: function identifierNameStartEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t            break\n\n\t        default:\n\t            if (!util.isIdStartChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    identifierName: function identifierName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            buffer += read();\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameEscape';\n\t            return\n\t        }\n\n\t        if (util.isIdContinueChar(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('identifier', buffer)\n\t    },\n\n\t    identifierNameEscape: function identifierNameEscape () {\n\t        if (c !== 'u') {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t        var u = unicodeEscape();\n\t        switch (u) {\n\t        case '$':\n\t        case '_':\n\t        case '\\u200C':\n\t        case '\\u200D':\n\t            break\n\n\t        default:\n\t            if (!util.isIdContinueChar(u)) {\n\t                throw invalidIdentifier()\n\t            }\n\n\t            break\n\t        }\n\n\t        buffer += u;\n\t        lexState = 'identifierName';\n\t    },\n\n\t    sign: function sign$1 () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer = read();\n\t            lexState = 'decimalPointLeading';\n\t            return\n\n\t        case '0':\n\t            buffer = read();\n\t            lexState = 'zero';\n\t            return\n\n\t        case '1':\n\t        case '2':\n\t        case '3':\n\t        case '4':\n\t        case '5':\n\t        case '6':\n\t        case '7':\n\t        case '8':\n\t        case '9':\n\t            buffer = read();\n\t            lexState = 'decimalInteger';\n\t            return\n\n\t        case 'I':\n\t            read();\n\t            literal('nfinity');\n\t            return newToken('numeric', sign * Infinity)\n\n\t        case 'N':\n\t            read();\n\t            literal('aN');\n\t            return newToken('numeric', NaN)\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    zero: function zero () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\n\t        case 'x':\n\t        case 'X':\n\t            buffer += read();\n\t            lexState = 'hexadecimal';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * 0)\n\t    },\n\n\t    decimalInteger: function decimalInteger () {\n\t        switch (c) {\n\t        case '.':\n\t            buffer += read();\n\t            lexState = 'decimalPoint';\n\t            return\n\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalPointLeading: function decimalPointLeading () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalPoint: function decimalPoint () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalFraction';\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalFraction: function decimalFraction () {\n\t        switch (c) {\n\t        case 'e':\n\t        case 'E':\n\t            buffer += read();\n\t            lexState = 'decimalExponent';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    decimalExponent: function decimalExponent () {\n\t        switch (c) {\n\t        case '+':\n\t        case '-':\n\t            buffer += read();\n\t            lexState = 'decimalExponentSign';\n\t            return\n\t        }\n\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentSign: function decimalExponentSign () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'decimalExponentInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    decimalExponentInteger: function decimalExponentInteger () {\n\t        if (util.isDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    hexadecimal: function hexadecimal () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            lexState = 'hexadecimalInteger';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    hexadecimalInteger: function hexadecimalInteger () {\n\t        if (util.isHexDigit(c)) {\n\t            buffer += read();\n\t            return\n\t        }\n\n\t        return newToken('numeric', sign * Number(buffer))\n\t    },\n\n\t    string: function string () {\n\t        switch (c) {\n\t        case '\\\\':\n\t            read();\n\t            buffer += escape();\n\t            return\n\n\t        case '\"':\n\t            if (doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case \"'\":\n\t            if (!doubleQuote) {\n\t                read();\n\t                return newToken('string', buffer)\n\t            }\n\n\t            buffer += read();\n\t            return\n\n\t        case '\\n':\n\t        case '\\r':\n\t            throw invalidChar(read())\n\n\t        case '\\u2028':\n\t        case '\\u2029':\n\t            separatorChar(c);\n\t            break\n\n\t        case undefined:\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    },\n\n\t    start: function start () {\n\t        switch (c) {\n\t        case '{':\n\t        case '[':\n\t            return newToken('punctuator', read())\n\n\t        // This code is unreachable since the default lexState handles eof.\n\t        // case undefined:\n\t        //     return newToken('eof')\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (c) {\n\t        case '$':\n\t        case '_':\n\t            buffer = read();\n\t            lexState = 'identifierName';\n\t            return\n\n\t        case '\\\\':\n\t            read();\n\t            lexState = 'identifierNameStartEscape';\n\t            return\n\n\t        case '}':\n\t            return newToken('punctuator', read())\n\n\t        case '\"':\n\t        case \"'\":\n\t            doubleQuote = (read() === '\"');\n\t            lexState = 'string';\n\t            return\n\t        }\n\n\t        if (util.isIdStartChar(c)) {\n\t            buffer += read();\n\t            lexState = 'identifierName';\n\t            return\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        if (c === ':') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        lexState = 'value';\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case '}':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (c === ']') {\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        lexState = 'value';\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        switch (c) {\n\t        case ',':\n\t        case ']':\n\t            return newToken('punctuator', read())\n\t        }\n\n\t        throw invalidChar(read())\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the default lexState.\n\t        // if (c === undefined) {\n\t        //     read()\n\t        //     return newToken('eof')\n\t        // }\n\n\t        throw invalidChar(read())\n\t    },\n\t};\n\n\tfunction newToken (type, value) {\n\t    return {\n\t        type: type,\n\t        value: value,\n\t        line: line,\n\t        column: column,\n\t    }\n\t}\n\n\tfunction literal (s) {\n\t    for (var i = 0, list = s; i < list.length; i += 1) {\n\t        var c = list[i];\n\n\t        var p = peek();\n\n\t        if (p !== c) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        read();\n\t    }\n\t}\n\n\tfunction escape () {\n\t    var c = peek();\n\t    switch (c) {\n\t    case 'b':\n\t        read();\n\t        return '\\b'\n\n\t    case 'f':\n\t        read();\n\t        return '\\f'\n\n\t    case 'n':\n\t        read();\n\t        return '\\n'\n\n\t    case 'r':\n\t        read();\n\t        return '\\r'\n\n\t    case 't':\n\t        read();\n\t        return '\\t'\n\n\t    case 'v':\n\t        read();\n\t        return '\\v'\n\n\t    case '0':\n\t        read();\n\t        if (util.isDigit(peek())) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        return '\\0'\n\n\t    case 'x':\n\t        read();\n\t        return hexEscape()\n\n\t    case 'u':\n\t        read();\n\t        return unicodeEscape()\n\n\t    case '\\n':\n\t    case '\\u2028':\n\t    case '\\u2029':\n\t        read();\n\t        return ''\n\n\t    case '\\r':\n\t        read();\n\t        if (peek() === '\\n') {\n\t            read();\n\t        }\n\n\t        return ''\n\n\t    case '1':\n\t    case '2':\n\t    case '3':\n\t    case '4':\n\t    case '5':\n\t    case '6':\n\t    case '7':\n\t    case '8':\n\t    case '9':\n\t        throw invalidChar(read())\n\n\t    case undefined:\n\t        throw invalidChar(read())\n\t    }\n\n\t    return read()\n\t}\n\n\tfunction hexEscape () {\n\t    var buffer = '';\n\t    var c = peek();\n\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    c = peek();\n\t    if (!util.isHexDigit(c)) {\n\t        throw invalidChar(read())\n\t    }\n\n\t    buffer += read();\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tfunction unicodeEscape () {\n\t    var buffer = '';\n\t    var count = 4;\n\n\t    while (count-- > 0) {\n\t        var c = peek();\n\t        if (!util.isHexDigit(c)) {\n\t            throw invalidChar(read())\n\t        }\n\n\t        buffer += read();\n\t    }\n\n\t    return String.fromCodePoint(parseInt(buffer, 16))\n\t}\n\n\tvar parseStates = {\n\t    start: function start () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforePropertyName: function beforePropertyName () {\n\t        switch (token.type) {\n\t        case 'identifier':\n\t        case 'string':\n\t            key = token.value;\n\t            parseState = 'afterPropertyName';\n\t            return\n\n\t        case 'punctuator':\n\t            // This code is unreachable since it's handled by the lexState.\n\t            // if (token.value !== '}') {\n\t            //     throw invalidToken()\n\t            // }\n\n\t            pop();\n\t            return\n\n\t        case 'eof':\n\t            throw invalidEOF()\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterPropertyName: function afterPropertyName () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator' || token.value !== ':') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        parseState = 'beforePropertyValue';\n\t    },\n\n\t    beforePropertyValue: function beforePropertyValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        push();\n\t    },\n\n\t    beforeArrayValue: function beforeArrayValue () {\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        if (token.type === 'punctuator' && token.value === ']') {\n\t            pop();\n\t            return\n\t        }\n\n\t        push();\n\t    },\n\n\t    afterPropertyValue: function afterPropertyValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforePropertyName';\n\t            return\n\n\t        case '}':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    afterArrayValue: function afterArrayValue () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'punctuator') {\n\t        //     throw invalidToken()\n\t        // }\n\n\t        if (token.type === 'eof') {\n\t            throw invalidEOF()\n\t        }\n\n\t        switch (token.value) {\n\t        case ',':\n\t            parseState = 'beforeArrayValue';\n\t            return\n\n\t        case ']':\n\t            pop();\n\t        }\n\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // throw invalidToken()\n\t    },\n\n\t    end: function end () {\n\t        // This code is unreachable since it's handled by the lexState.\n\t        // if (token.type !== 'eof') {\n\t        //     throw invalidToken()\n\t        // }\n\t    },\n\t};\n\n\tfunction push () {\n\t    var value;\n\n\t    switch (token.type) {\n\t    case 'punctuator':\n\t        switch (token.value) {\n\t        case '{':\n\t            value = {};\n\t            break\n\n\t        case '[':\n\t            value = [];\n\t            break\n\t        }\n\n\t        break\n\n\t    case 'null':\n\t    case 'boolean':\n\t    case 'numeric':\n\t    case 'string':\n\t        value = token.value;\n\t        break\n\n\t    // This code is unreachable.\n\t    // default:\n\t    //     throw invalidToken()\n\t    }\n\n\t    if (root === undefined) {\n\t        root = value;\n\t    } else {\n\t        var parent = stack[stack.length - 1];\n\t        if (Array.isArray(parent)) {\n\t            parent.push(value);\n\t        } else {\n\t            Object.defineProperty(parent, key, {\n\t                value: value,\n\t                writable: true,\n\t                enumerable: true,\n\t                configurable: true,\n\t            });\n\t        }\n\t    }\n\n\t    if (value !== null && typeof value === 'object') {\n\t        stack.push(value);\n\n\t        if (Array.isArray(value)) {\n\t            parseState = 'beforeArrayValue';\n\t        } else {\n\t            parseState = 'beforePropertyName';\n\t        }\n\t    } else {\n\t        var current = stack[stack.length - 1];\n\t        if (current == null) {\n\t            parseState = 'end';\n\t        } else if (Array.isArray(current)) {\n\t            parseState = 'afterArrayValue';\n\t        } else {\n\t            parseState = 'afterPropertyValue';\n\t        }\n\t    }\n\t}\n\n\tfunction pop () {\n\t    stack.pop();\n\n\t    var current = stack[stack.length - 1];\n\t    if (current == null) {\n\t        parseState = 'end';\n\t    } else if (Array.isArray(current)) {\n\t        parseState = 'afterArrayValue';\n\t    } else {\n\t        parseState = 'afterPropertyValue';\n\t    }\n\t}\n\n\t// This code is unreachable.\n\t// function invalidParseState () {\n\t//     return new Error(`JSON5: invalid parse state '${parseState}'`)\n\t// }\n\n\t// This code is unreachable.\n\t// function invalidLexState (state) {\n\t//     return new Error(`JSON5: invalid lex state '${state}'`)\n\t// }\n\n\tfunction invalidChar (c) {\n\t    if (c === undefined) {\n\t        return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t    }\n\n\t    return syntaxError((\"JSON5: invalid character '\" + (formatChar(c)) + \"' at \" + line + \":\" + column))\n\t}\n\n\tfunction invalidEOF () {\n\t    return syntaxError((\"JSON5: invalid end of input at \" + line + \":\" + column))\n\t}\n\n\t// This code is unreachable.\n\t// function invalidToken () {\n\t//     if (token.type === 'eof') {\n\t//         return syntaxError(`JSON5: invalid end of input at ${line}:${column}`)\n\t//     }\n\n\t//     const c = String.fromCodePoint(token.value.codePointAt(0))\n\t//     return syntaxError(`JSON5: invalid character '${formatChar(c)}' at ${line}:${column}`)\n\t// }\n\n\tfunction invalidIdentifier () {\n\t    column -= 5;\n\t    return syntaxError((\"JSON5: invalid identifier character at \" + line + \":\" + column))\n\t}\n\n\tfunction separatorChar (c) {\n\t    console.warn((\"JSON5: '\" + (formatChar(c)) + \"' in strings is not valid ECMAScript; consider escaping\"));\n\t}\n\n\tfunction formatChar (c) {\n\t    var replacements = {\n\t        \"'\": \"\\\\'\",\n\t        '\"': '\\\\\"',\n\t        '\\\\': '\\\\\\\\',\n\t        '\\b': '\\\\b',\n\t        '\\f': '\\\\f',\n\t        '\\n': '\\\\n',\n\t        '\\r': '\\\\r',\n\t        '\\t': '\\\\t',\n\t        '\\v': '\\\\v',\n\t        '\\0': '\\\\0',\n\t        '\\u2028': '\\\\u2028',\n\t        '\\u2029': '\\\\u2029',\n\t    };\n\n\t    if (replacements[c]) {\n\t        return replacements[c]\n\t    }\n\n\t    if (c < ' ') {\n\t        var hexString = c.charCodeAt(0).toString(16);\n\t        return '\\\\x' + ('00' + hexString).substring(hexString.length)\n\t    }\n\n\t    return c\n\t}\n\n\tfunction syntaxError (message) {\n\t    var err = new SyntaxError(message);\n\t    err.lineNumber = line;\n\t    err.columnNumber = column;\n\t    return err\n\t}\n\n\tvar stringify = function stringify (value, replacer, space) {\n\t    var stack = [];\n\t    var indent = '';\n\t    var propertyList;\n\t    var replacerFunc;\n\t    var gap = '';\n\t    var quote;\n\n\t    if (\n\t        replacer != null &&\n\t        typeof replacer === 'object' &&\n\t        !Array.isArray(replacer)\n\t    ) {\n\t        space = replacer.space;\n\t        quote = replacer.quote;\n\t        replacer = replacer.replacer;\n\t    }\n\n\t    if (typeof replacer === 'function') {\n\t        replacerFunc = replacer;\n\t    } else if (Array.isArray(replacer)) {\n\t        propertyList = [];\n\t        for (var i = 0, list = replacer; i < list.length; i += 1) {\n\t            var v = list[i];\n\n\t            var item = (void 0);\n\n\t            if (typeof v === 'string') {\n\t                item = v;\n\t            } else if (\n\t                typeof v === 'number' ||\n\t                v instanceof String ||\n\t                v instanceof Number\n\t            ) {\n\t                item = String(v);\n\t            }\n\n\t            if (item !== undefined && propertyList.indexOf(item) < 0) {\n\t                propertyList.push(item);\n\t            }\n\t        }\n\t    }\n\n\t    if (space instanceof Number) {\n\t        space = Number(space);\n\t    } else if (space instanceof String) {\n\t        space = String(space);\n\t    }\n\n\t    if (typeof space === 'number') {\n\t        if (space > 0) {\n\t            space = Math.min(10, Math.floor(space));\n\t            gap = '          '.substr(0, space);\n\t        }\n\t    } else if (typeof space === 'string') {\n\t        gap = space.substr(0, 10);\n\t    }\n\n\t    return serializeProperty('', {'': value})\n\n\t    function serializeProperty (key, holder) {\n\t        var value = holder[key];\n\t        if (value != null) {\n\t            if (typeof value.toJSON5 === 'function') {\n\t                value = value.toJSON5(key);\n\t            } else if (typeof value.toJSON === 'function') {\n\t                value = value.toJSON(key);\n\t            }\n\t        }\n\n\t        if (replacerFunc) {\n\t            value = replacerFunc.call(holder, key, value);\n\t        }\n\n\t        if (value instanceof Number) {\n\t            value = Number(value);\n\t        } else if (value instanceof String) {\n\t            value = String(value);\n\t        } else if (value instanceof Boolean) {\n\t            value = value.valueOf();\n\t        }\n\n\t        switch (value) {\n\t        case null: return 'null'\n\t        case true: return 'true'\n\t        case false: return 'false'\n\t        }\n\n\t        if (typeof value === 'string') {\n\t            return quoteString(value, false)\n\t        }\n\n\t        if (typeof value === 'number') {\n\t            return String(value)\n\t        }\n\n\t        if (typeof value === 'object') {\n\t            return Array.isArray(value) ? serializeArray(value) : serializeObject(value)\n\t        }\n\n\t        return undefined\n\t    }\n\n\t    function quoteString (value) {\n\t        var quotes = {\n\t            \"'\": 0.1,\n\t            '\"': 0.2,\n\t        };\n\n\t        var replacements = {\n\t            \"'\": \"\\\\'\",\n\t            '\"': '\\\\\"',\n\t            '\\\\': '\\\\\\\\',\n\t            '\\b': '\\\\b',\n\t            '\\f': '\\\\f',\n\t            '\\n': '\\\\n',\n\t            '\\r': '\\\\r',\n\t            '\\t': '\\\\t',\n\t            '\\v': '\\\\v',\n\t            '\\0': '\\\\0',\n\t            '\\u2028': '\\\\u2028',\n\t            '\\u2029': '\\\\u2029',\n\t        };\n\n\t        var product = '';\n\n\t        for (var i = 0; i < value.length; i++) {\n\t            var c = value[i];\n\t            switch (c) {\n\t            case \"'\":\n\t            case '\"':\n\t                quotes[c]++;\n\t                product += c;\n\t                continue\n\n\t            case '\\0':\n\t                if (util.isDigit(value[i + 1])) {\n\t                    product += '\\\\x00';\n\t                    continue\n\t                }\n\t            }\n\n\t            if (replacements[c]) {\n\t                product += replacements[c];\n\t                continue\n\t            }\n\n\t            if (c < ' ') {\n\t                var hexString = c.charCodeAt(0).toString(16);\n\t                product += '\\\\x' + ('00' + hexString).substring(hexString.length);\n\t                continue\n\t            }\n\n\t            product += c;\n\t        }\n\n\t        var quoteChar = quote || Object.keys(quotes).reduce(function (a, b) { return (quotes[a] < quotes[b]) ? a : b; });\n\n\t        product = product.replace(new RegExp(quoteChar, 'g'), replacements[quoteChar]);\n\n\t        return quoteChar + product + quoteChar\n\t    }\n\n\t    function serializeObject (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var keys = propertyList || Object.keys(value);\n\t        var partial = [];\n\t        for (var i = 0, list = keys; i < list.length; i += 1) {\n\t            var key = list[i];\n\n\t            var propertyString = serializeProperty(key, value);\n\t            if (propertyString !== undefined) {\n\t                var member = serializeKey(key) + ':';\n\t                if (gap !== '') {\n\t                    member += ' ';\n\t                }\n\t                member += propertyString;\n\t                partial.push(member);\n\t            }\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '{}';\n\t        } else {\n\t            var properties;\n\t            if (gap === '') {\n\t                properties = partial.join(',');\n\t                final = '{' + properties + '}';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                properties = partial.join(separator);\n\t                final = '{\\n' + indent + properties + ',\\n' + stepback + '}';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\n\t    function serializeKey (key) {\n\t        if (key.length === 0) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        var firstChar = String.fromCodePoint(key.codePointAt(0));\n\t        if (!util.isIdStartChar(firstChar)) {\n\t            return quoteString(key, true)\n\t        }\n\n\t        for (var i = firstChar.length; i < key.length; i++) {\n\t            if (!util.isIdContinueChar(String.fromCodePoint(key.codePointAt(i)))) {\n\t                return quoteString(key, true)\n\t            }\n\t        }\n\n\t        return key\n\t    }\n\n\t    function serializeArray (value) {\n\t        if (stack.indexOf(value) >= 0) {\n\t            throw TypeError('Converting circular structure to JSON5')\n\t        }\n\n\t        stack.push(value);\n\n\t        var stepback = indent;\n\t        indent = indent + gap;\n\n\t        var partial = [];\n\t        for (var i = 0; i < value.length; i++) {\n\t            var propertyString = serializeProperty(String(i), value);\n\t            partial.push((propertyString !== undefined) ? propertyString : 'null');\n\t        }\n\n\t        var final;\n\t        if (partial.length === 0) {\n\t            final = '[]';\n\t        } else {\n\t            if (gap === '') {\n\t                var properties = partial.join(',');\n\t                final = '[' + properties + ']';\n\t            } else {\n\t                var separator = ',\\n' + indent;\n\t                var properties$1 = partial.join(separator);\n\t                final = '[\\n' + indent + properties$1 + ',\\n' + stepback + ']';\n\t            }\n\t        }\n\n\t        stack.pop();\n\t        indent = stepback;\n\t        return final\n\t    }\n\t};\n\n\tvar JSON5 = {\n\t    parse: parse,\n\t    stringify: stringify,\n\t};\n\n\tvar lib = JSON5;\n\n\tvar es5 = lib;\n\n\treturn es5;\n\n})));\n","import { round } from '@ixfx/numbers';\nimport { resolveEl as resolveElement } from './resolve-el.js';\nimport JSON5 from 'json5';\nconst padding = (v, options) => {\n    if (options.leftPadding) {\n        if (v.length < options.leftPadding)\n            return '&nbsp;'.repeat(options.leftPadding - v.length) + v;\n    }\n    return v;\n};\nconst convertNumber = (v, o) => {\n    v = (o.roundNumbers !== undefined) ? round(o.roundNumbers, v) : v;\n    let asString = (o.precision !== undefined) ? v.toFixed(o.precision) : v.toString();\n    asString = padding(asString.toString(), o);\n    return asString;\n};\nconst toHtmlSimple = (v, options) => {\n    if (v === null)\n        return `(null)`;\n    if (v === undefined)\n        return `(undefined)`;\n    if (typeof v === `boolean`)\n        return v ? `true` : `false`;\n    if (typeof v === `string`)\n        return `\"${v}\"`;\n    if (typeof v === `number`)\n        return convertNumber(v, options.numbers);\n    if (typeof v === `object`)\n        return toTableSimple(v, options);\n    return JSON5.stringify(v);\n};\nconst toTableSimple = (v, options) => {\n    let html = `<div style=\"display:grid; grid-template-columns: repeat(2, 1fr)\">`;\n    for (const entry of Object.entries(v)) {\n        const value = toHtmlSimple(entry[1], options);\n        html += `<div class=\"label\" style=\"display:table-cell\">${entry[0]}</div>\n      <div class=\"data\" style=\"display:table-cell\">${value}</div>`;\n    }\n    html += `</div>`;\n    return html;\n};\n/**\n * Creates a table of data points for each object in the map\n * ```\n * const t = DataTable.fromList(parentEl, map);\n * t.update(newMap);\n * ```\n */\nexport const fromList = (parentOrQuery, \n//eslint-disable-next-line functional/prefer-readonly-type\ndata) => {\n    const parent = resolveElement(parentOrQuery);\n    let container = document.createElement(`DIV`);\n    parent.append(container);\n    const options = {\n        numbers: {},\n        objectsAsTables: true\n    };\n    const remove = () => {\n        if (!container)\n            return false;\n        container.remove();\n        container = undefined;\n        return true;\n    };\n    const update = (data) => {\n        const seenTables = new Set();\n        for (const [key, value] of data) {\n            const tKey = `table-${key}`;\n            seenTables.add(tKey);\n            let t = parent.querySelector(`#${tKey}`);\n            if (t === null) {\n                t = document.createElement(`table`);\n                if (!t)\n                    throw new Error(`Could not create table element`);\n                //eslint-disable-next-line functional/immutable-data\n                t.id = tKey;\n                parent.append(t);\n            }\n            updateElement(t, value, options);\n        }\n        // Remove tables that aren't present in map\n        const tables = Array.from(parent.querySelectorAll(`table`));\n        for (const t of tables) {\n            if (!seenTables.has(t.id)) {\n                t.remove();\n            }\n        }\n    };\n    if (data)\n        update(data);\n    return { update, remove };\n    // return (d: ReadonlyMap<string, object>) => {\n    //   update(d);\n    // };\n};\n/**\n * Updates the given table element so each entry in the map is a\n * row in the table.\n *\n * Rows are keyed by the map key. Rows with keys not found in the map are deleted.\n * @param t Table\n * @param data Map of data\n * @param options Options\n * @returns\n */\nconst updateElement = (\n//eslint-disable-next-line functional/prefer-immutable-types\nt, data, options) => {\n    const numberFormatting = options.numbers ?? {};\n    //const precision = options.precision ?? 2;\n    const idPrefix = options.idPrefix ?? ``;\n    const objectsAsTables = options.objectsAsTables ?? false;\n    if (data === undefined) {\n        //eslint-disable-next-line functional/immutable-data\n        t.innerHTML = ``;\n        return;\n    }\n    const seenRows = new Set();\n    for (const [key, value] of Object.entries(data)) {\n        const domKey = `${idPrefix}-row-${key}`;\n        // Keep track of keys currently in object\n        seenRows.add(domKey);\n        // Is there already a row for this key?\n        let rowEl = t.querySelector(`tr[data-key='${domKey}']`);\n        if (rowEl === null) {\n            // No row, add it\n            rowEl = document.createElement(`tr`);\n            t.append(rowEl);\n            rowEl.setAttribute(`data-key`, domKey);\n            const keyEl = document.createElement(`td`);\n            keyEl.textContent = key;\n            keyEl.classList.add(`label`);\n            rowEl.append(keyEl);\n        }\n        // Is there already a cell for the value?\n        let valEl = rowEl.querySelector(`td[data-key='${domKey}-val']`);\n        if (valEl === null) {\n            // No, create the cell\n            valEl = document.createElement(`td`);\n            valEl.classList.add(`data`);\n            valEl.setAttribute(`data-key`, `${domKey}-val`);\n            rowEl.append(valEl);\n        }\n        // Format the value as HTML\n        let valueHTML;\n        if (options.formatter) {\n            valueHTML = options.formatter(value, key);\n        }\n        // If there's no formatter, or not handled...\n        if (valueHTML === undefined) {\n            if (typeof value === `object`) {\n                valueHTML = objectsAsTables ? toTableSimple(value, options) : JSON5.stringify(value);\n            }\n            else if (typeof value === `number`) {\n                valueHTML = convertNumber(value, numberFormatting);\n                //let vv = (options.roundNumbers) ? round(options.roundNumbers, value) : value;\n                //let vvStr = vv.toFixed(precision);\n                //valueHTML = padding(vvStr, options);\n            }\n            else if (typeof value === `boolean`) {\n                valueHTML = value ? `true` : `false`;\n            }\n            else if (typeof value === `string`) {\n                valueHTML = `\"${value}\"`;\n            }\n            else {\n                valueHTML = JSON.stringify(value);\n            }\n        }\n        // Set the cell value\n        valEl.innerHTML = valueHTML;\n    }\n    // Remove rows that aren't present in data\n    const rows = Array.from(t.querySelectorAll(`tr`));\n    for (const r of rows) {\n        const key = r.getAttribute(`data-key`);\n        if (!seenRows.has(key)) {\n            r.remove();\n        }\n    }\n};\n/**\n * Creates a HTML table where each row is a key-value pair from `data`.\n * First column is the key, second column data.\n *\n * ```js\n * const dt = fromObject(`#hostDiv`);\n * ```\n *\n * `dt` is a function to call when you want to update data:\n *\n * ```js\n * dt({\n *  name: `Blerg`,\n *  height: 120\n * });\n * ```\n */\nexport const fromObject = (parentOrQuery, data, opts = {}) => {\n    const parent = resolveElement(parentOrQuery);\n    const idPrefix = opts.idPrefix ?? Math.floor(Math.random() * 1000).toString();\n    const options = {\n        numbers: {},\n        objectsAsTables: true,\n        idPrefix: ``,\n        ...opts\n    };\n    let t = document.createElement(`table`);\n    parent.append(t);\n    const remove = () => {\n        if (!t)\n            return false;\n        t.remove();\n        t = undefined;\n        return true;\n    };\n    // Update already if there's initial data\n    if (data)\n        updateElement(t, data, options);\n    const update = (d) => {\n        if (!t)\n            throw new Error(`Table disposed`);\n        updateElement(t, d, { ...options, idPrefix });\n    };\n    return { remove, update };\n};\n","import { fromObject } from \"./data-table.js\";\n// TODO Visually show data which has changed since last update\n// TODO Click on a field to show a sparkline for it\n/**\n * Creates a simple display for data. Designed to show ixfx state data\n *\n * ```js\n * // Create once\n * const display = new DataDisplay();\n *\n * // Call .update to show state\n * display.update(state);\n * ```\n */\nexport class DataDisplay {\n    dataTable;\n    /**\n     * Constructor\n     * @param options Options\n     */\n    constructor(options = {}) {\n        const theme = options.theme ?? `dark`;\n        const existing = document.querySelector(`#ixfx-data-display`);\n        if (existing !== null)\n            throw new Error(`DataDisplay already loaded on this page`);\n        const container = document.createElement(`div`);\n        container.id = `ixfx-data-display`;\n        container.classList.add(`theme-${theme}`);\n        const css = document.createElement(`style`);\n        css.textContent = `\n    #ixfx-data-display {\n      background: white;\n      color: black;\n      border: 2px solid hsl(0deg 0.61% 90%);\n      border-radius: 4px;\n      z-index: 1000;\n      opacity: 40%;\n      padding: 1em;\n      font-family: monospace;\n      position: fixed;\n      right: 1em;\n      top: 1em;\n    }\n    #ixfx-data-display.theme-dark {\n      background: black;\n      color: white;\n      border: 2px solid hsl(0deg 0.61% 10%);\n    }\n    #ixfx-data-display:hover {\n      opacity: 100%;\n    }\n    #ixfx-data-display table {\n      border-collapse: collapse;\n    }\n    #ixfx-data-display tr:not(:last-child) {\n      border-bottom: 2px solid hsl(0deg 0.61% 90%);\n    }\n    #ixfx-data-display.dark tr:not(:last-child) {\n      border-bottom: 2px solid hsl(0deg 0.61% 10%);\n    }\n    #ixfx-data-display td {\n      padding-bottom: 0.4em;\n      padding-top: 0.4em;\n    }\n    #ixfx-data-display .label {\n      color: hsl(0deg 0.61% 60%);\n      text-align: right;\n      padding-right: 0.5em;\n    }\n    #ixfx-data-display.theme-dark .label {\n      color: gray;\n    }\n    `;\n        container.style.display = `inline-block`;\n        document.body.append(css);\n        document.body.append(container);\n        this.dataTable = fromObject(container, undefined, {\n            objectsAsTables: true,\n            ...options\n        });\n    }\n    update(data) {\n        this.dataTable.update(data);\n    }\n}\n","import type { RectPositioned } from \"./rect-types.js\";\nimport type { GridCardinalDirection } from '../grid/index.js';\nimport type { Point } from \"../point/point-type.js\";\n\n/**\n * Returns a point on cardinal direction, or 'center' for the middle.\n *\n * ```js\n * cardinal({x: 10, y:10, width:100, height: 20}, 'center');\n * ```\n * @param rect Rectangle\n * @param card Cardinal direction or 'center'\n * @returns Point\n */\nexport const cardinal = (\n  rect: RectPositioned,\n  card: GridCardinalDirection | `center`\n): Point => {\n  const { x, y, width, height } = rect;\n  switch (card) {\n    case `nw`: {\n      return Object.freeze({ x, y });\n    }\n    case `n`: {\n      return Object.freeze({\n        x: x + width / 2,\n        y,\n      });\n    }\n    case `ne`: {\n      return Object.freeze({\n        x: x + width,\n        y,\n      });\n    }\n    case `sw`: {\n      return Object.freeze({ x, y: y + height });\n    }\n    case `s`: {\n      return Object.freeze({\n        x: x + width / 2,\n        y: y + height,\n      });\n    }\n    case `se`: {\n      return Object.freeze({\n        x: x + width,\n        y: y + height,\n      });\n    }\n    case `w`: {\n      return Object.freeze({ x, y: y + height / 2 });\n    }\n    case `e`: {\n      return Object.freeze({ x: x + width, y: y + height / 2 });\n    }\n    case `center`: {\n      return Object.freeze({\n        x: x + width / 2,\n        y: y + height / 2,\n      });\n    }\n    default: {\n      // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n      throw new Error(`Unknown direction: ${ card }`);\n    }\n  }\n};","import type { RandomSource } from \"./types.js\";\n\n/**\n * Generates a short roughly unique id\n * ```js\n * const id = shortGuid();\n * ```\n * @param options Options.\n * @returns\n */\nexport const shortGuid = (options: Readonly<{ source?: RandomSource }> = {}) => {\n  const source = options.source ?? Math.random;\n  // Via Stackoverflow...\n  const firstPart = Math.trunc(source() * 46_656);\n  const secondPart = Math.trunc(source() * 46_656);\n  const firstPartString = `000${ firstPart.toString(36) }`.slice(-3);\n  const secondPartString = `000${ secondPart.toString(36) }`.slice(-3);\n  return firstPartString + secondPartString;\n};","import { resolveEl } from './resolve-el.js';\nimport { isPlaceholder as RectsIsPlaceholder } from '@ixfx/geometry/rect';\nimport { Placeholder as PointsPlaceholder, isPlaceholder as PointsIsPlaceholder, Empty as PointsEmpty } from '@ixfx/geometry/point';\nimport { PlaceholderPositioned as RectsPlaceholderPositioned } from '@ixfx/geometry/rect';\nimport { clamp } from '@ixfx/numbers';\nexport const draggable = (elemOrQuery, listener, options = {}) => {\n    const elem = resolveEl(elemOrQuery);\n    /**\n     * Viewport location at drag start\n     */\n    let initialPointerPosition = PointsPlaceholder;\n    let token;\n    const autoTranslate = options.autoTranslate ?? false;\n    const quickDrag = options.quickDrag ?? false;\n    const fence = options.fence ? resolveEl(options.fence) : undefined;\n    const fenceViewport = options.fenceViewport;\n    let fenceOffset = RectsPlaceholderPositioned;\n    const relativePosition = window.getComputedStyle(elem).position === `relative`;\n    // De-select if there's a click elsewhere\n    const onParentClick = () => {\n        const selected = elem.classList.contains(`drag-sel`);\n        if (selected) {\n            elem.classList.remove(`drag-sel`);\n        }\n    };\n    // Click to select\n    const onElementClick = (event) => {\n        const selected = elem.classList.contains(`drag-sel`);\n        if (selected) {\n            elem.classList.remove(`drag-sel`);\n        }\n        else {\n            elem.classList.add(`drag-sel`);\n        }\n        event.stopPropagation();\n    };\n    elem.ownerDocument.addEventListener(`click`, onParentClick);\n    elem.addEventListener(`click`, onElementClick);\n    // Remove event handlers\n    const dragCleanup = () => {\n        elem.classList.remove(`drag-progress`);\n        elem.ownerDocument.removeEventListener(`pointermove`, onPointerMove);\n        elem.ownerDocument.removeEventListener(`pointerup`, onPointerUp);\n        elem.ownerDocument.removeEventListener(`pointercancel`, onDragCancel);\n    };\n    const dispose = () => {\n        if (elem.classList.contains(`drag-progress`)) {\n            onDragCancel(undefined, `dispose`);\n        }\n        else {\n            dragCleanup();\n        }\n        elem.ownerDocument.removeEventListener(`click`, onParentClick);\n        elem.removeEventListener(`click`, onElementClick);\n    };\n    const validateOffsetAndPoint = (offset, x, y) => {\n        if (!RectsIsPlaceholder(fenceOffset)) {\n            offset = {\n                x: clamp(offset.x, fenceOffset.x, fenceOffset.width),\n                y: clamp(offset.y, fenceOffset.y, fenceOffset.height)\n            };\n            if (fenceViewport) {\n                x = clamp(x, fenceViewport.x, fenceViewport.x + fenceViewport.width);\n                y = clamp(y, fenceViewport.y, fenceViewport.y + fenceViewport.height);\n            }\n        }\n        return [offset, { x, y }];\n    };\n    // Dragging\n    let lastMoveOffset = PointsEmpty;\n    const onPointerMove = (moveEvent) => {\n        moveEvent.preventDefault();\n        moveEvent.stopPropagation();\n        const { x, y } = moveEvent;\n        let offset = PointsIsPlaceholder(initialPointerPosition)\n            ? { x: moveEvent.offsetX, y: moveEvent.offsetY }\n            : {\n                x: x - initialPointerPosition.x,\n                y: y - initialPointerPosition.y,\n            };\n        const r = validateOffsetAndPoint(offset, x, y);\n        offset = r[0];\n        const state = {\n            delta: offset,\n            initial: initialPointerPosition,\n            token,\n            viewport: r[1]\n        };\n        if (typeof listener.progress !== `undefined`) {\n            const p = listener.progress(state);\n            if (p.abort) {\n                onDragCancel(undefined, `discontinued`);\n                return;\n            }\n            if (p.viewport) {\n                offset = {\n                    x: p.viewport.x - initialPointerPosition.x,\n                    y: p.viewport.y - initialPointerPosition.y\n                };\n            }\n        }\n        lastMoveOffset = offset;\n        if (autoTranslate) {\n            const offsetX = offset.x;\n            const offsetY = offset.y;\n            elem.style.translate = `${offsetX}px ${offsetY}px`;\n        }\n    };\n    // Done dragging\n    const onPointerUp = (upEvent) => {\n        const bounds = elem.getBoundingClientRect();\n        dragCleanup();\n        const { x, y } = upEvent;\n        // let offset = {\n        //   x: upEvent.x - initialPointerPosition.x,\n        //   y: upEvent.y - initialPointerPosition.y,\n        // };\n        const r = validateOffsetAndPoint(lastMoveOffset, x, y);\n        const state = {\n            initial: initialPointerPosition,\n            token,\n            delta: r[0],\n            viewport: r[1]\n        };\n        if (autoTranslate) {\n            elem.style.translate = `none`;\n            if (relativePosition) {\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-non-null-asserted-optional-chain\n                const parent = elem.parentElement?.getBoundingClientRect();\n                elem.style.left = `${bounds.x - parent.left}px`;\n                elem.style.top = `${bounds.y - parent.top}px`;\n            }\n            else {\n                elem.style.left = `${bounds.x}px`;\n                elem.style.top = `${bounds.y}px`;\n            }\n        }\n        if (typeof listener.success !== `undefined`) {\n            listener.success(state);\n        }\n    };\n    // Drag is cancelled\n    const onDragCancel = (event, reason = `pointercancel`) => {\n        dragCleanup();\n        let viewport = PointsPlaceholder;\n        if (event && `x` in event && `y` in event) {\n            viewport = { x: event.x, y: event.y };\n        }\n        const state = {\n            token,\n            initial: initialPointerPosition,\n            delta: { x: -1, y: -1 },\n            viewport\n        };\n        if (typeof listener.abort !== `undefined`) {\n            listener.abort(reason, state);\n        }\n    };\n    elem.addEventListener(`pointerdown`, (event) => {\n        const selected = elem.classList.contains(`drag-sel`);\n        if (!selected && !quickDrag)\n            return;\n        const event_ = event;\n        initialPointerPosition = { x: event_.x, y: event_.y };\n        const s = typeof listener.start === `undefined`\n            ? { allow: true, token }\n            : listener.start();\n        if (!s.allow)\n            return;\n        token = s.token;\n        if (fence) {\n            const fenceBounds = fence.getBoundingClientRect();\n            fenceOffset = {\n                x: fenceBounds.x - initialPointerPosition.x,\n                y: fenceBounds.y - initialPointerPosition.y,\n                width: fenceBounds.x + fenceBounds.width - initialPointerPosition.x,\n                height: fenceBounds.y + fenceBounds.height - initialPointerPosition.y,\n            };\n        }\n        else if (fenceViewport) {\n            fenceOffset = {\n                x: fenceViewport.x - initialPointerPosition.x,\n                y: fenceViewport.y - initialPointerPosition.y,\n                width: (fenceViewport.width + fenceViewport.x) - initialPointerPosition.x,\n                height: (fenceViewport.height + fenceViewport.y) - initialPointerPosition.y\n            };\n        }\n        elem.classList.add(`drag-progress`);\n        elem.ownerDocument.addEventListener(`pointermove`, onPointerMove);\n        elem.ownerDocument.addEventListener(`pointerup`, onPointerUp);\n        elem.ownerDocument.addEventListener(`pointercancel`, onDragCancel);\n    });\n    return dispose;\n};\n","import { resolveEls } from \"./resolve-el.js\";\nexport function setText(selectors, value) {\n    return setProperty(`textContent`, selectors, value);\n}\n;\nexport function setHtml(selectors, value) {\n    return setProperty(`innerHTML`, selectors, value);\n}\n;\nexport function setProperty(property, selectors, value) {\n    let elements = [];\n    const set = (v) => {\n        const typ = typeof v;\n        const vv = (typ === `string` || typ === `number` || typ === `boolean`) ? v :\n            JSON.stringify(v);\n        if (elements.length === 0) {\n            elements = resolveEls(selectors);\n        }\n        for (const element of elements) {\n            element[property] = vv;\n        }\n        return vv;\n    };\n    return value === undefined ? set : set(value);\n}\n;\n","import { setCssClass, setCssDisplay, setCssToggle } from \"./css.js\";\nimport { resolveEl, resolveEls } from \"./resolve-el.js\";\nimport { setHtml, setText } from \"./set-property.js\";\nexport const el = (selectors) => {\n    const elements = resolveEls(selectors);\n    const text = setText(elements);\n    const html = setHtml(elements);\n    return {\n        text,\n        html,\n        cssDisplay: (value) => { setCssDisplay(elements, value); },\n        cssClass: (value, cssClass) => { setCssClass(elements, value, cssClass); },\n        cssToggle: (cssClass) => { setCssToggle(elements, cssClass); },\n        el: () => elements[0],\n        els: () => elements\n    };\n};\nexport const elRequery = (selectors) => {\n    ({\n        text: (value) => { setText(selectors, value); },\n        html: (value) => { setHtml(selectors, value); },\n        cssDisplay: (value) => { setCssDisplay(selectors, value); },\n        cssClass: (value, cssClass) => { setCssClass(selectors, value, cssClass); },\n        cssToggle: (cssClass) => { setCssToggle(selectors, cssClass); },\n        el: () => resolveEl(selectors),\n        els: () => resolveEls(selectors)\n    });\n};\n","import { resolveEl } from \"./resolve-el.js\";\nimport { getComputedPixels } from \"./css.js\";\nimport { Rects } from \"@ixfx/geometry\";\n/**\n * Consider using static methods:\n *\n * ```js\n * // Resize an <SVG> element to match viewport\n * Dom.ElementSizer.svgViewport(svg);\n *\n * // Resize canvas to match its parent\n * Dom.ElementSizer.canvasParent(canvas);\n *\n * // Resize canvas to match viewport\n * Dom.ElementSizer.canvasViewport(canvas);\n * ```\n */\nexport class ElementSizer {\n    #stretch;\n    #size;\n    #naturalSize;\n    #naturalRatio;\n    #viewport;\n    #onSetSize;\n    #el;\n    #containerEl;\n    #disposed = false;\n    #resizeObservable;\n    constructor(elOrQuery, options) {\n        this.#el = resolveEl(elOrQuery);\n        this.#containerEl = options.containerEl ? resolveEl(options.containerEl) : this.#el.parentElement;\n        this.#stretch = options.stretch ?? `none`;\n        this.#onSetSize = options.onSetSize;\n        this.#size = Rects.Empty;\n        let naturalSize = options.naturalSize;\n        if (naturalSize === undefined) {\n            naturalSize = this.#el.getBoundingClientRect();\n        }\n        this.#naturalRatio = 1;\n        this.#naturalSize = naturalSize;\n        this.setNaturalSize(naturalSize);\n        this.#viewport = Rects.EmptyPositioned;\n        if (this.#containerEl === document.body) {\n            this.#byViewport();\n        }\n        else {\n            this.#byContainer();\n        }\n    }\n    dispose(reason) {\n        if (this.#disposed)\n            return;\n        this.#disposed = true;\n        if (this.#resizeObservable) {\n            this.#resizeObservable.disconnect();\n            this.#resizeObservable = undefined;\n        }\n    }\n    static canvasParent(canvasElementOrQuery, options) {\n        const el = resolveEl(canvasElementOrQuery);\n        const er = new ElementSizer(el, {\n            ...options,\n            onSetSize(size, el) {\n                el.width = size.width;\n                el.height = size.height;\n                if (options.onSetSize)\n                    options.onSetSize(size, el);\n            },\n        });\n        return er;\n    }\n    static canvasViewport(canvasElementOrQuery, options) {\n        const el = resolveEl(canvasElementOrQuery);\n        el.style.position = `absolute`;\n        el.style.zIndex = (options.zIndex ?? 0).toString();\n        el.style.left = `0px`;\n        el.style.top = `0px`;\n        const opts = { ...options, containerEl: document.body };\n        return this.canvasParent(canvasElementOrQuery, opts);\n    }\n    /**\n     * Size an SVG element to match viewport\n     * @param svg\n     * @returns\n     */\n    static svgViewport(svg, onSizeSet) {\n        const er = new ElementSizer(svg, {\n            containerEl: document.body,\n            stretch: `both`,\n            onSetSize(size) {\n                svg.setAttribute(`width`, size.width.toString());\n                svg.setAttribute(`height`, size.height.toString());\n                if (onSizeSet)\n                    onSizeSet(size);\n            },\n        });\n        return er;\n    }\n    #byContainer() {\n        const c = this.#containerEl;\n        if (!c)\n            throw new Error(`No container element`);\n        // Listen for resize\n        const r = new ResizeObserver((entries) => {\n            this.#onParentResize(entries);\n        });\n        r.observe(c);\n        // Get current value\n        const current = this.#computeSizeBasedOnParent(c.getBoundingClientRect());\n        this.size = current;\n        this.#resizeObservable = r;\n    }\n    #byViewport() {\n        const r = new ResizeObserver((entries) => {\n            this.#onViewportResize();\n        });\n        r.observe(document.documentElement);\n        this.#resizeObservable = r;\n        this.#onViewportResize();\n    }\n    #onViewportResize() {\n        this.size = { width: window.innerWidth, height: window.innerHeight };\n        this.#viewport = {\n            x: 0, y: 0,\n            ...this.size\n        };\n    }\n    /**\n     * Sets the 'natural' size of an element.\n     * This can also be specified when creating ElementSizer.\n     * @param size\n     */\n    setNaturalSize(size) {\n        this.#naturalSize = size;\n        this.#naturalRatio = size.width / size.height;\n    }\n    get naturalSize() {\n        return this.#naturalSize;\n    }\n    get viewport() {\n        return this.#viewport;\n    }\n    #computeSizeBasedOnParent(parentSize) {\n        let { width, height } = parentSize;\n        let stretch = this.#stretch;\n        if (stretch === `min`) {\n            stretch = width < height ? `width` : `height`;\n        }\n        else if (stretch === `max`) {\n            stretch = width > height ? `width` : `height`;\n        }\n        if (stretch === `width`) {\n            height = width / this.#naturalRatio;\n        }\n        else if (stretch === `height`) {\n            width = height * this.#naturalRatio;\n        }\n        // If we have a border, take that into account\n        if (this.#el instanceof HTMLElement) {\n            const b = getComputedPixels(this.#el, `borderTopWidth`, `borderLeftWidth`, `borderRightWidth`, `borderBottomWidth`);\n            width -= (b.borderLeftWidth + b.borderRightWidth);\n            height -= (b.borderTopWidth + b.borderBottomWidth);\n        }\n        return { width, height };\n    }\n    #onParentResize(args) {\n        const box = args[0].contentBoxSize[0];\n        const parentSize = { width: box.inlineSize, height: box.blockSize };\n        this.size = this.#computeSizeBasedOnParent(parentSize);\n        this.#viewport = {\n            x: 0, y: 0,\n            width: parentSize.width,\n            height: parentSize.height\n        };\n    }\n    set size(size) {\n        Rects.guard(size, `size`);\n        this.#size = size;\n        this.#onSetSize(size, this.#el);\n    }\n    get size() {\n        return this.#size;\n    }\n}\n","import { getErrorMessage } from \"@ixfx/debug\";\n/**\n * Creates an error handler to show errors on-screen.\n * This is useful when testing on mobile devices that lack access to the console.\n *\n * ```js\n * const e = defaultErrorHandler();\n * ```\n *\n * Manual control:\n * ```js\n * const e = defaultErrorHandler();\n * e.show(someError);\n * e.hide();\n * ```\n * @returns\n */\nexport const defaultErrorHandler = () => {\n    let enabled = true;\n    const container = document.createElement(`div`);\n    container.style.color = `black`;\n    container.style.border = `2px solid red`;\n    container.style.backgroundColor = `hsl(0, 80%, 90%)`;\n    container.style.padding = `1em`;\n    container.style.display = `none`;\n    container.style.top = `1em`;\n    container.style.left = `1em`;\n    container.style.position = `absolute`;\n    container.style.fontFamily = `monospace`;\n    const messageElement = document.createElement(`div`);\n    messageElement.style.maxWidth = `50vw`;\n    messageElement.style.maxHeight = `50vh`;\n    messageElement.style.overflowY = `scroll`;\n    container.innerHTML = `<h1>Error</h1>`;\n    container.append(messageElement);\n    const styleButton = (b) => {\n        b.style.padding = `0.3em`;\n        b.style.marginTop = `1em`;\n    };\n    const buttonClose = document.createElement(`button`);\n    buttonClose.textContent = `Close`;\n    buttonClose.addEventListener(`click`, () => {\n        hide();\n    });\n    const buttonStop = document.createElement(`button`);\n    buttonStop.textContent = `Stop displaying errors`;\n    buttonStop.addEventListener(`click`, () => {\n        enabled = false;\n        hide();\n    });\n    styleButton(buttonClose);\n    styleButton(buttonStop);\n    container.append(buttonClose);\n    container.append(buttonStop);\n    document.body.append(container);\n    const show = (ex) => {\n        container.style.display = `inline`;\n        messageElement.innerHTML += ex.stack ? `<pre>${ex.stack}</pre>` : `<p>${getErrorMessage(ex)}</p>`;\n    };\n    const hide = () => {\n        container.style.display = `none`;\n    };\n    window.onerror = (message, url, lineNo, colNo, error) => {\n        if (enabled) {\n            if (error) {\n                console.log(error);\n                show(error);\n            }\n            else {\n                console.log(message);\n                show(message);\n            }\n        }\n    };\n    window.addEventListener(`unhandledrejection`, (event) => {\n        console.log(event.reason);\n        if (enabled) {\n            show(event.reason);\n        }\n    });\n    return { show, hide };\n};\n","import { resolveEl } from './resolve-el.js';\n/**\n * Adds tab and shift+tab to TEXTAREA\n * @param el\n */\nexport const textAreaKeyboard = (el) => {\n    el.addEventListener(`keydown`, (event) => {\n        const elementValue = el.value;\n        const start = el.selectionStart;\n        const end = el.selectionEnd;\n        if (event.key === `Tab` && event.shiftKey) {\n            if (el.value.substring(start - 2, start) === `  `) {\n                el.value = elementValue.slice(0, Math.max(0, start - 2)) + elementValue.slice(Math.max(0, end));\n            }\n            el.selectionStart = el.selectionEnd = start - 2;\n            event.preventDefault();\n            return false;\n        }\n        else if (event.key === `Tab`) {\n            el.value = elementValue.slice(0, Math.max(0, start)) + `  ` + elementValue.slice(Math.max(0, end));\n            el.selectionStart = el.selectionEnd = start + 2;\n            event.preventDefault();\n            return false;\n        }\n    });\n};\n/**\n * Quick access to <input type=\"checkbox\"> value.\n * Provide a checkbox by string id or object reference. If a callback is\n * supplied, it will be called when the checkbox changes value.\n *\n * ```\n * const opt = checkbox(`#chkMate`);\n * opt.checked; // Gets/sets\n *\n * const opt = checkbox(document.getElementById(`#chkMate`), newVal => {\n *  if (newVal) ...\n * });\n * ```\n * @param {(string | HTMLInputElement)} domIdOrEl\n * @param {(currentVal:boolean) => void} [onChanged]\n * @returns\n */\nexport const checkbox = (domIdOrEl, onChanged) => {\n    const el = resolveEl(domIdOrEl);\n    if (onChanged) {\n        el.addEventListener(`change`, () => {\n            onChanged(el.checked);\n        });\n    }\n    return {\n        get checked() {\n            return el.checked;\n        },\n        set checked(value) {\n            el.checked = value;\n        },\n    };\n};\n/**\n * Numeric INPUT\n *\n * ```\n * const el = numeric(`#num`, (currentValue) => {\n *  // Called when input changes\n * })\n * ```\n *\n * Get/set value\n * ```\n * el.value = 10;\n * ```\n * @param domIdOrEl\n * @param onChanged\n * @param live If true, event handler fires based on `input` event, rather than `change`\n * @returns\n */\nexport const numeric = (domIdOrEl, onChanged, live) => {\n    const el = resolveEl(domIdOrEl);\n    const eventName = live ? `change` : `input`;\n    if (onChanged) {\n        el.addEventListener(eventName, () => {\n            onChanged(Number.parseInt(el.value));\n        });\n    }\n    return {\n        get value() {\n            return Number.parseInt(el.value);\n        },\n        set value(value) {\n            el.value = value.toString();\n        },\n    };\n};\n/**\n * Button\n *\n * ```\n * const b = button(`#myButton`, () => {\n *  console.log(`Button clicked`);\n * });\n * ```\n *\n * ```\n * b.click(); // Call the click handler\n * b.disabled = true / false;\n * ```\n * @param domQueryOrEl Query string or element instance\n * @param onClickHandler Callback when button is clicked\n * @returns\n */\nexport const button = (domQueryOrEl, onClickHandler) => {\n    const el = resolveEl(domQueryOrEl);\n    const addEvent = () => {\n        if (onClickHandler) {\n            el.addEventListener(`click`, onClickHandler);\n        }\n    };\n    const removeEvent = () => {\n        if (onClickHandler) {\n            el.removeEventListener(`click`, onClickHandler);\n        }\n    };\n    addEvent();\n    return {\n        /**\n         * Gets text content of button\n         */\n        get title() {\n            return el.textContent;\n        },\n        /**\n         * Sets text content of button\n         */\n        set title(value) {\n            el.textContent = value;\n        },\n        /**\n         * Disposes the button.\n         * Removes event handler and optionally removes from document\n         * @param deleteElement\n         */\n        dispose(deleteElement = false) {\n            removeEvent();\n            if (deleteElement)\n                el.remove();\n        },\n        /**\n         * Sets the click handler, overwriting existing.\n         * @param handler\n         */\n        onClick(handler) {\n            removeEvent();\n            onClickHandler = handler;\n            addEvent();\n        },\n        /**\n         * Trigger onClick handler\n         */\n        click() {\n            if (onClickHandler)\n                onClickHandler();\n        },\n        /**\n         * Sets disabled state of button\n         */\n        set disabled(value) {\n            el.disabled = value;\n        },\n        /**\n         * Gets the button element\n         */\n        get el() {\n            return el;\n        }\n    };\n};\n/**\n * Creates a BUTTON element, wrapping it via {@link button} and returning it.\n * ```js\n * const b = buttonCreate(`Stop`, () => console.log(`Stop`));\n * someParent.addNode(b.el);\n * ```\n * @param title\n * @param onClick\n * @returns\n */\nexport const buttonCreate = (title, onClick) => {\n    const el = document.createElement(`button`);\n    const w = button(el, onClick);\n    w.title = title;\n    return w;\n};\n/**\n * SELECT element.\n *\n * Handle changes in value:\n * ```\n * const mySelect = select(`#mySelect`, (newValue) => {\n *  console.log(`Value is now ${newValue}`);\n * });\n * ```\n *\n * Enable/disable:\n * ```\n * mySelect.disabled = true / false;\n * ```\n *\n * Get currently selected index or value:\n * ```\n * mySelect.value / mySelect.index\n * ```\n *\n * Is the currently selected value a placeholder?\n * ```\n * mySelect.isSelectedPlaceholder\n * ```\n *\n * Set list of options\n * ```\n * // Adds options, preselecting `opt2`.\n * mySelect.setOpts([`opt1`, `opt2 ...], `opt2`);\n * ```\n *\n * Select an element\n * ```\n * mySelect.select(1); // Select second item\n * mySelect.select(1, true); // If true is added, change handler fires as well\n * ```\n * @param domQueryOrEl Query (eg `#id`) or element\n * @param onChanged Callback when a selection is made\n * @param options Options\n * @return\n */\nexport const select = (domQueryOrEl, onChanged, options = {}) => {\n    const el = resolveEl(domQueryOrEl);\n    const { placeholderOpt, shouldAddChoosePlaceholder = false, autoSelectAfterChoice = -1, } = options;\n    const change = () => {\n        if (onChanged !== undefined)\n            onChanged(el.value);\n        if (autoSelectAfterChoice >= 0)\n            el.selectedIndex = autoSelectAfterChoice;\n    };\n    if (onChanged) {\n        el.addEventListener(`change`, (_event) => {\n            change();\n        });\n    }\n    return {\n        set disabled(value) {\n            el.disabled = value;\n        },\n        get value() {\n            return el.value;\n        },\n        get index() {\n            return el.selectedIndex;\n        },\n        get isSelectedPlaceholder() {\n            return ((shouldAddChoosePlaceholder || options.placeholderOpt !== undefined) &&\n                el.selectedIndex === 0);\n        },\n        setOpts(opts, preSelect) {\n            el.options.length = 0;\n            if (shouldAddChoosePlaceholder)\n                opts = [`-- Choose --`, ...opts];\n            else if (placeholderOpt !== undefined)\n                opts = [placeholderOpt, ...opts];\n            let toSelect = 0;\n            for (const [index, o] of opts.entries()) {\n                const optEl = document.createElement(`option`);\n                optEl.value = o;\n                optEl.innerHTML = o;\n                if (preSelect !== undefined && o === preSelect)\n                    toSelect = index;\n                el.options.add(optEl);\n            }\n            el.selectedIndex = toSelect;\n        },\n        select(index = 0, trigger = false) {\n            el.selectedIndex = index;\n            if (trigger && onChanged) {\n                change();\n            }\n        },\n    };\n};\n","export const addShadowCss = (parentEl, styles) => {\n    const styleEl = document.createElement(`style`);\n    //eslint-disable-next-line functional/immutable-data\n    styleEl.textContent = styles;\n    //eslint-disable-next-line functional/no-let\n    let shadowRoot;\n    if (parentEl.shadowRoot) {\n        shadowRoot = parentEl.shadowRoot;\n        //eslint-disable-next-line functional/immutable-data\n        shadowRoot.innerHTML = ``;\n    }\n    else {\n        shadowRoot = parentEl.attachShadow({ mode: `open` });\n    }\n    shadowRoot.append(styleEl);\n    return shadowRoot;\n};\n","import { resolveEl } from './resolve-el.js';\nimport { addShadowCss } from './shadow-dom.js';\n/**\n * Allows writing to a DOM element in console.log style. Element grows in size, so use\n * something like `overflow-y: scroll` on its parent\n *\n * ```\n * const l = log(`#dataStream`); // Assumes HTML element with id `dataStream` exists\n * l.log(`Hi`);\n * l.log(); // Displays a horizontal rule\n *\n * const l = log(document.getElementById(`dataStream`), {\n *  timestamp: true,\n *  truncateEntries: 20\n * });\n * l.log(`Hi`);\n * l.error(`Some error`); // Adds class `error` to line\n * ```\n *\n * For logging high-throughput streams:\n * ```\n * // Silently drop log if it was less than 5ms since the last\n * const l = log(`#dataStream`, { minIntervalMs: 5 });\n *\n * // Only the last 100 entries are kept\n * const l = log(`#dataStream`, { capacity: 100 });\n * ```\n *\n * @param domQueryOrElement Element or id of element\n * @param opts\n */\nexport const log = (domQueryOrElement, opts = {}) => {\n    const { capacity = 0, monospaced = true, timestamp = false, collapseDuplicates = true, css = `` } = opts;\n    let added = 0;\n    let lastLog;\n    let lastLogRepeats = 0;\n    const parentElement = resolveEl(domQueryOrElement);\n    const fontFamily = monospaced\n        ? `Consolas, \"Andale Mono WT\", \"Andale Mono\", \"Lucida Console\", \"Lucida Sans Typewriter\", \"DejaVu Sans Mono\", \"Bitstream Vera Sans Mono\", \"Liberation Mono\", Monaco, \"Courier New\", Courier, monospace`\n        : `normal`;\n    const shadowRoot = addShadowCss(parentElement, `\n  .log {\n    font-family: ${fontFamily};\n    background-color: var(--code-background-color);\n    padding: var(--padding1, 0.2em);\n    overflow-y: auto;\n    height:100%;\n  }\n  .timestamp {\n    margin-right: 0.5em;\n    opacity: 0.5;\n    font-size: 70%;\n    align-self: center;\n  }\n  .line {\n    display: flex;\n    padding-bottom: 0.1em;\n    padding-top: 0.1em;\n  }\n  .line:hover {\n  \n  }\n  .error {\n    color: red;\n  }\n  .badge {\n    border: 1px solid currentColor;\n    align-self: center;\n    font-size: 70%;\n    padding-left: 0.2em;\n    padding-right: 0.2em;\n    border-radius: 1em;\n    margin-left: 0.5em;\n    margin-right: 0.5em;\n  }\n  .msg {\n    flex: 1;\n    word-break: break-word;\n  }\n  ${css}\n  `);\n    const el = document.createElement(`div`);\n    el.className = `log`;\n    shadowRoot.append(el);\n    const error = (messageOrError) => {\n        const line = document.createElement(`div`);\n        if (typeof messageOrError === `string`) {\n            line.innerHTML = messageOrError;\n        }\n        else if (messageOrError instanceof Error) {\n            const stack = messageOrError.stack;\n            line.innerHTML = stack === undefined ? messageOrError.toString() : stack.toString();\n        }\n        else {\n            line.innerHTML = messageOrError;\n        }\n        line.classList.add(`error`);\n        append(line);\n        lastLog = undefined;\n        lastLogRepeats = 0;\n    };\n    let lastLogTime = 0;\n    const warn = (whatToLog = ``) => {\n        const element = log(whatToLog);\n        if (!element)\n            return element;\n        element.classList.add(`warning`);\n        return element;\n    };\n    const log = (whatToLog = ``) => {\n        let message;\n        const interval = window.performance.now() - lastLogTime;\n        if (opts.minIntervalMs && interval < opts.minIntervalMs)\n            return;\n        lastLogTime = window.performance.now();\n        if (typeof whatToLog === `object`) {\n            message = JSON.stringify(whatToLog);\n        }\n        else if (whatToLog === undefined) {\n            message = `(undefined)`;\n        }\n        else if (whatToLog === null) {\n            message = `(null)`;\n        }\n        else if (typeof whatToLog === `number`) {\n            if (Number.isNaN(message))\n                message = `(NaN)`;\n            message = whatToLog.toString();\n        }\n        else {\n            message = whatToLog;\n        }\n        if (message.length === 0) {\n            const rule = document.createElement(`hr`);\n            lastLog = undefined;\n            append(rule);\n        }\n        else if (message === lastLog && collapseDuplicates) {\n            const lastElement = el.firstElementChild;\n            let lastBadge = lastElement.querySelector(`.badge`);\n            if (lastBadge === null) {\n                lastBadge = document.createElement(`div`);\n                lastBadge.className = `badge`;\n                lastElement.insertAdjacentElement(`beforeend`, lastBadge);\n            }\n            if (lastElement !== null) {\n                lastBadge.textContent = (++lastLogRepeats).toString();\n            }\n            return lastElement;\n        }\n        else {\n            const line = document.createElement(`div`);\n            line.textContent = message;\n            append(line);\n            lastLog = message;\n            return line;\n        }\n    };\n    const append = (line) => {\n        if (timestamp) {\n            const wrapper = document.createElement(`div`);\n            const timestamp = document.createElement(`div`);\n            timestamp.className = `timestamp`;\n            timestamp.textContent = new Date().toLocaleTimeString();\n            wrapper.append(timestamp, line);\n            line.classList.add(`msg`);\n            wrapper.classList.add(`line`);\n            line = wrapper;\n        }\n        else {\n            line.classList.add(`line`, `msg`);\n        }\n        if (opts.reverse) {\n            el.append(line);\n        }\n        else {\n            el.insertBefore(line, el.firstChild);\n        }\n        if (capacity > 0 && ++added > capacity * 2) {\n            while (added > capacity) {\n                el.lastChild?.remove();\n                added--;\n            }\n        }\n        if (opts.reverse) {\n            // Scroll to bottom\n            el.scrollTop = el.scrollHeight;\n        }\n        lastLogRepeats = 0;\n    };\n    const clear = () => {\n        el.innerHTML = ``;\n        lastLog = undefined;\n        lastLogRepeats = 0;\n        added = 0;\n    };\n    const dispose = () => {\n        el.remove();\n    };\n    return {\n        error,\n        log,\n        warn,\n        append,\n        clear,\n        dispose,\n        get isEmpty() {\n            return added === 0;\n        },\n    };\n};\n","import { getErrorMessage } from '@ixfx/debug';\nimport { log } from './log.js';\nimport { resolveEl } from './resolve-el.js';\nimport { afterMatch } from '@ixfx/core/text';\n/**\n * Adds an inline console to the page. A DIV is added to display log messages.\n *\n * Captures all console.log, console.warn and console.error calls, as well as unhandled exceptions.\n *\n * ```js\n * // Adds the DIV and intercepts console logs\n * inlineConsole();\n *\n * console.log(`Hello`); // message is displayed in the inline console\n * ```\n * @param options\n */\nexport const inlineConsole = (options = {}) => {\n    const original = {\n        log: console.log,\n        error: console.error,\n        warn: console.warn\n    };\n    const witholdCss = options.witholdCss ?? false;\n    const insertIntoEl = options.insertIntoEl;\n    let logElement;\n    if (insertIntoEl) {\n        logElement = resolveEl(insertIntoEl);\n    }\n    else {\n        logElement = document.createElement(`DIV`);\n        logElement.id = `ixfx-log`;\n        document.body.prepend(logElement);\n    }\n    if (!witholdCss) {\n        logElement.style.position = `fixed`;\n        logElement.style.left = `0px`;\n        logElement.style.top = `0px`;\n        logElement.style.pointerEvents = `none`;\n        logElement.style.display = `none`;\n    }\n    const logger = log(logElement, options);\n    const visibility = (show) => {\n        logElement.style.display = show ? `block` : `none`;\n    };\n    console.error = (message, ...optionalParameters) => {\n        logger.error(message);\n        if (optionalParameters.length > 0) {\n            logger.error(optionalParameters);\n        }\n        original.error(message, ...optionalParameters);\n        visibility(true);\n    };\n    console.warn = (message, ...optionalParameters) => {\n        logger.warn(message);\n        if (optionalParameters.length > 0) {\n            logger.warn(optionalParameters);\n        }\n        visibility(true);\n    };\n    console.log = (message, ...optionalParameters) => {\n        logger.log(message);\n        if (optionalParameters.length > 0) {\n            logger.log(optionalParameters);\n        }\n        original.log(message, ...optionalParameters);\n        visibility(true);\n    };\n    window.onerror = (event, source, lineno, _colno, error) => {\n        const abbreviatedSource = source === undefined ? `` : afterMatch(source, `/`, { fromEnd: true });\n        const eventString = getErrorMessage(error);\n        logger.error(eventString + ` (${abbreviatedSource}:${lineno})`);\n        visibility(true);\n    };\n    window.addEventListener('unhandledrejection', function (e) {\n        logger.error(e.reason);\n        visibility(true);\n    });\n};\n","import { uniqueInstances } from \"@ixfx/core\";\n/**\n * Async iterator over DOM query strings\n * ```js\n * query(`div`); // all DIVs\n * query([`.class`, `.and-other-class`]); // All things with these two classes\n * ```\n * @param queryOrElement\n * @returns\n */\nexport async function* query(queryOrElement, options = {}) {\n    if (typeof queryOrElement === `string`) {\n        return query([queryOrElement], options);\n    }\n    else if (typeof queryOrElement === `object` && `nodeName` in queryOrElement) {\n        return query([queryOrElement], options);\n    }\n    const ensureUnique = options ?? false;\n    const isUnique = ensureUnique ? uniqueInstances() : (_) => true;\n    if (Array.isArray(queryOrElement)) {\n        for (const item of queryOrElement) {\n            if (typeof item === `string`) {\n                for (const element of document.querySelectorAll(item)) {\n                    const elementProper = element;\n                    if (isUnique(elementProper)) {\n                        yield elementProper;\n                    }\n                }\n            }\n            else {\n                if (isUnique(item)) {\n                    yield item;\n                }\n            }\n        }\n    }\n    else {\n        for await (const item of queryOrElement) {\n            if (typeof item === `string`) {\n                for (const element of document.querySelectorAll(item)) {\n                    if (isUnique(element)) {\n                        yield element;\n                    }\n                }\n            }\n            else {\n                if (isUnique(item)) {\n                    yield item;\n                }\n            }\n        }\n    }\n}\n","import { shortGuid } from \"@ixfx/random\";\nimport { resolveEl } from \"./resolve-el.js\";\nexport const tabSet = (options) => {\n    const panels = options.panels;\n    const preselectId = options.preselectId ?? panels[0].id;\n    const guid = `tabset-${shortGuid()}`;\n    const parentEl = resolveEl(options.parent);\n    const switcher = `\n  <div class=\"ixfx-tabset\" id=\"${guid}\">\n    <fieldset class=\"ixfx-tabset-controls\">\n    ${panels.map(p => {\n        const panelId = `${guid}-${p.id}-select`;\n        return `<input type=\"radio\" name=\"${guid}-tabs\" id=\"${panelId}\" data-tabset=\"${p.id}\"><label for=\"${panelId}\">${p.label}</label>`;\n    }).join(``)}\n    </fieldset>\n    <div class=\"ixfx-tabset-host\" id=\"${guid}-host\"></div>\n  </div>\n  `;\n    parentEl.innerHTML = switcher;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const hostEl = document.getElementById(`${guid}-host`);\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const tabSetEl = document.getElementById(guid);\n    tabSetEl.querySelector(`fieldset`)?.addEventListener(`change`, event => {\n        const el = event.target;\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        select(el.getAttribute(`data-tabset`));\n    });\n    let currentPanel;\n    const select = (id) => {\n        const newPanel = panels.find(p => p.id === id);\n        const priorPanel = currentPanel;\n        if (options.onPanelChanging) {\n            const allow = options.onPanelChanging(priorPanel, newPanel);\n            if (typeof allow === `boolean` && !allow)\n                return; // Cancel panel change\n        }\n        if (priorPanel) {\n            priorPanel.dismount();\n        }\n        currentPanel = newPanel;\n        if (newPanel) {\n            newPanel.mount(hostEl);\n            const domId = `#${guid}-${id}-select`;\n            const inputEl = tabSetEl.querySelector(domId);\n            if (inputEl) {\n                inputEl.checked = true;\n            }\n            else {\n                console.warn(`Could not find INPUT element for panel id: ${id} (${domId})`);\n            }\n        }\n        if (options.onPanelChange)\n            options.onPanelChange(priorPanel, newPanel);\n    };\n    select(preselectId);\n    let warned = false;\n    const notify = (name, args) => {\n        if (!currentPanel)\n            return;\n        if (currentPanel.notify) {\n            currentPanel.notify(name, args);\n        }\n        else if (!warned) {\n            warned = true;\n            console.warn(`TabbedPanel.notify dropping notification '${name}'. Panel implementation is missing 'notify' function`);\n        }\n    };\n    return { select, panels, hostEl, tabSetEl, notify };\n};\n","import JSON5 from 'json5';\nimport { resolveEl } from './resolve-el.js';\nimport { getPointParameter } from '@ixfx/geometry/point';\nimport { cardinal } from '@ixfx/geometry/rect';\nimport { Points } from '@ixfx/geometry';\n/**\n * Convert an absolute point to relative, in different coordinate spaces.\n *\n * When calling the returned function, the input value must be in the same\n * scale as the intended output scale.\n *\n * Viewport-relative is used by default.\n *\n * @example Get relative position of click in screen coordinates\n * ```js\n * const f = pointScaler({ to: 'screen' });\n * document.addEventListener('click', evt => {\n *  const screenRelative = f(evt.screenX, evt.screenY);\n *  // Yields {x,y} on 0..1 scale\n * });\n * ```\n *\n * @example Get relative position of click in viewport coordinates\n * ```js\n * const f = pointScaler({ to: 'viewport' });\n * document.addEventListener('click', evt => {\n *  const viewportRelative = f(evt.clientX, evt.clientY);\n *  // Yields {x,y} on 0..1 scale\n * });\n * ```\n *\n * @example Get relative position of click in document coordinates\n * ```js\n * const f = pointScaler({ to: 'document' });\n * document.addEventListener('click', evt => {\n *  const documentRelative = f(evt.pageX, evt.pageY);\n *  // Yields {x,y} on 0..1 scale\n * });\n * ```\n *\n * @param reference\n * @returns\n */\nexport const pointScaler = (reference = `viewport`) => {\n    switch (reference) {\n        case `viewport`: {\n            return (a, b) => {\n                const pt = getPointParameter(a, b);\n                return Object.freeze({\n                    x: pt.x / window.innerWidth,\n                    y: pt.y / window.innerHeight,\n                });\n            };\n        }\n        case `screen`: {\n            return (a, b) => {\n                const pt = getPointParameter(a, b);\n                return Object.freeze({\n                    x: pt.x / screen.width,\n                    y: pt.y / screen.height,\n                });\n            };\n        }\n        case `document`: {\n            return (a, b) => {\n                const pt = getPointParameter(a, b);\n                return Object.freeze({\n                    x: pt.x / document.body.scrollWidth,\n                    y: pt.y / document.body.scrollHeight,\n                });\n            };\n        }\n        default: {\n            throw new Error(`Unknown 'reference' parameter: ${JSON.stringify(reference)}`);\n        }\n    }\n};\n/**\n * Returns a function which yields element position in target coordinate space with optional scaling.\n * Live position is calculated when the function is invoked.\n * Use {@link positionRelative} to simply get relative position of element in given coordinate space.\n *\n * @example Absolute position of #blah in viewport coordinate space\n * ```js\n * const f = positionFn('#blah');\n * f(); // Yields: {x,y}\n * // Or:\n * positionFn('#blah')(); // Immediately invoke\n * ```\n *\n * @example Relative position of element in viewport-space\n * ```js\n * const f = positionFn(evt.target, { relative: true });\n * f(); // Yields: {x,y}\n * ```\n *\n * @example Relative position of #blah in screen-space\n * ```js\n * const f = positionFn('#blah', { target: 'screen', relative: true });\n * f(); // Yields: {x,y}\n * ```\n *\n * By default, top-left corner (north west) is used. Other cardinal points or 'center' can be specified:\n * ```js\n * // Relative position by center\n * positionFn('#blah', { relative: true, anchor: 'center' });\n *\n * // ...by bottom-right corner\n * positionFn('#blah', { relative: true, anchor: 'se' });\n * ```\n *\n * This function is useful if you have a stable DOM element and conversion target.\n * If the DOM element is changing continually, consider using {@link viewportToSpace} to\n * convert from viewport coordinates to target coordinates:\n *\n * ```js\n * // Eg.1 Absolute coords in screen space\n * const vpToScreen = viewportToSpace('screen');\n * vpToScreen(el.getBoundingClientRect());\n *\n * // Eg.2 Relative coords in viewport space\n * const vpRelative = pointScaler(); // Re-usable scaler. Default uses viewport\n * vpRelative(el.getBoundingClientRect()); // Yields: { x,y }\n *\n * // Eg.3 Relative coords in screen space\n * const vpToScreen = viewportToSpace('screen'); // Map viewport->screen\n * const screenRelative = pointScaler('screen'); // Scale screen units\n *\n * // Combine into a resuable function that takes an element\n * const mapAndScale = (el) => screenRelative(vpToScreen(el.getBoundingClientRect()));\n *\n * // Call\n * mapAndScale(document.getElementById('blah')); // Yields: { x,y }\n * ```\n * @param domQueryOrEl\n * @param options\n * @returns\n */\n// eslint-disable-next-line unicorn/prevent-abbreviations\nexport const positionFn = (domQueryOrEl, options = {}) => {\n    const targetSpace = options.target ?? `viewport`;\n    const relative = options.relative ?? false;\n    const anchor = options.anchor ?? `nw`;\n    const el = resolveEl(domQueryOrEl);\n    const vpToSpace = viewportToSpace(targetSpace);\n    if (relative) {\n        const s = pointScaler(targetSpace);\n        return () => s(vpToSpace(cardinal(el.getBoundingClientRect(), anchor)));\n    }\n    else {\n        return () => vpToSpace(cardinal(el.getBoundingClientRect(), anchor));\n    }\n};\n/**\n * Returns a {x,y} Point on a cardinal position of element.\n * ```\n * // Top edge, middle horizontal position\n * const pos = cardinalPosition(`#blah`, `n`);\n * ```\n * @param domQueryOrEl\n * @param anchor\n * @returns\n */\nexport const cardinalPosition = (domQueryOrEl, anchor = `nw`) => {\n    const el = resolveEl(domQueryOrEl);\n    return cardinal(el.getBoundingClientRect(), anchor);\n};\n/**\n * Returns relative position of element in target coordinate space, or viewport by default.\n * Relative means that { x:0.5, y: 0.5 } is the middle of the target space. Eg for viewport, that means its the middle of the browser window.\n * ```js\n * // These all yield { x, y }\n * elPositionRelative('#blah');\n * elPositionRelative(evt.target, 'screen');\n * ```\n * @param domQueryOrEl DOM query or element\n * @param target Target coordinate space, or viewport by default\n * @returns Point\n */\nexport const positionRelative = (domQueryOrEl, target = `viewport`) => {\n    const f = positionFn(domQueryOrEl, { relative: true, target });\n    return f();\n};\n/**\n * Returns a function that converts input viewport coordinate space\n * to an output coordinate space.\n *\n * ```js\n * // f() will convert from viewport to document coordinate space\n * const f = viewportToSpace('document');\n *\n * // {x:100,y:100} is viewport coordinate space\n * f(100,100); // Yields: { x, y } converted to document space\n * ```\n *\n * Or immediately invoke for one-off use:\n * ```js\n * viewportToSpace('document')(100,100); // Yields: { x, y }\n * ```\n * @param targetSpace\n * @returns\n */\nexport const viewportToSpace = (targetSpace = `viewport`) => {\n    switch (targetSpace) {\n        case `screen`: {\n            return (a, b) => {\n                const pt = getPointParameter(a, b);\n                return Object.freeze({\n                    x: pt.x + window.screenX,\n                    y: pt.y + window.screenY,\n                });\n            };\n        }\n        case `document`: {\n            return (a, b) => {\n                const pt = getPointParameter(a, b);\n                return Object.freeze({\n                    x: pt.x + window.scrollX,\n                    y: pt.y + window.scrollY,\n                });\n            };\n        }\n        case `viewport`: {\n            return (a, b) => {\n                const pt = getPointParameter(a, b);\n                return Object.freeze({\n                    x: pt.x,\n                    y: pt.y,\n                });\n            };\n        }\n        default: {\n            throw new Error(`Unexpected target coordinate space: ${targetSpace}. Expected: viewport, document or screen`);\n        }\n    }\n};\n/**\n * Position element by relative coordinate. Relative to window dimensions by default\n * @param relativePos Window-relative coordinate. 0.5/0.5 is middle of window.\n */\nexport const positionFromMiddle = (domQueryOrEl, relativePos, relativeTo = `window`) => {\n    if (!domQueryOrEl)\n        throw new Error(`domQueryOrEl is null or undefined`);\n    const el = resolveEl(domQueryOrEl);\n    // Convert relative to absolute units\n    const absPosition = Points.multiply(relativePos, window.innerWidth, window.innerHeight);\n    const thingRect = el.getBoundingClientRect();\n    const offsetPos = Points.subtract(absPosition, thingRect.width / 2, thingRect.height / 2);\n    // Apply via CSS\n    el.style.transform = `translate(${offsetPos.x}px, ${offsetPos.y}px)`;\n};\n/**\n * Given an array of class class names, this will cycle between them each time\n * it is called.\n *\n * Eg, assume `list` is: [ `a`, `b`, `c` ]\n *\n * If `el` already has the class `a`, the first time it is called, class `a`\n * is removed, and `b` added. The next time `b` is swapped for `c`. Once again,\n * `c` will swap with `a` and so on.\n *\n * If `el` is undefined or null, function silently returns.\n * @param el Element\n * @param list List of class names\n * @returns\n */\nexport const cycleCssClass = (el, list) => {\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (el === null || !el)\n        return;\n    if (!Array.isArray(list)) {\n        throw new TypeError(`List should be an array of strings`);\n    }\n    for (let index = 0; index < list.length; index++) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        if (el.classList.contains(list[index])) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            el.classList.remove(list[index]);\n            if (index + 1 < list.length) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                el.classList.add(list[index + 1]);\n            }\n            else {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                el.classList.add(list[0]);\n            }\n            return;\n        }\n    }\n    el.classList.add(list[0]);\n};\n/**\n * Source: https://zellwk.com/blog/translate-in-javascript\n * @param domQueryOrEl\n */\nexport const getTranslation = (domQueryOrEl) => {\n    // Source:\n    // https://raw.githubusercontent.com/zellwk/javascript/master/src/browser/dom/translate-values.js\n    const el = resolveEl(domQueryOrEl);\n    const style = window.getComputedStyle(el);\n    const matrix = style.transform;\n    // No transform property. Simply return 0 values.\n    if (matrix === `none` || typeof matrix === `undefined`) {\n        return {\n            x: 0,\n            y: 0,\n            z: 0,\n        };\n    }\n    // Can either be 2d or 3d transform\n    const matrixType = matrix.includes(`3d`) ? `3d` : `2d`;\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    const matrixValues = (/matrix.*\\((.+)\\)/.exec(matrix))[1].split(`, `);\n    // 2d Matrixes have 6 values\n    // Last 2 values are X and Y.\n    // 2d Matrixes does not have Z value.\n    if (matrixType === `2d`) {\n        return {\n            x: Number.parseFloat(matrixValues[4]),\n            y: Number.parseFloat(matrixValues[5]),\n            z: 0,\n        };\n    }\n    // 3d Matrixes have 16 values\n    // The 13th, 14th, and 15th values are X, Y, and Z\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (matrixType === `3d`) {\n        return {\n            x: Number.parseFloat(matrixValues[12]),\n            y: Number.parseFloat(matrixValues[13]),\n            z: Number.parseFloat(matrixValues[14]),\n        };\n    }\n    return { x: 0, y: 0, z: 0 };\n};\n/**\n * Creates an element after `sibling`\n * ```\n * const el = createAfter(siblingEl, `DIV`);\n * ```\n * @param sibling Element\n * @param tagName Element to create\n * @returns New element\n */\nexport const createAfter = (sibling, tagName) => {\n    const el = document.createElement(tagName);\n    sibling.parentElement?.insertBefore(el, sibling.nextSibling);\n    return el;\n};\n/**\n * Creates an element inside of `parent`\n * ```\n * const newEl = createIn(parentEl, `DIV`);\n * ```\n * @param parent Parent element\n * @param tagName Tag to create\n * @returns New element\n */\nexport const createIn = (parent, tagName) => {\n    const el = document.createElement(tagName);\n    parent.append(el);\n    return el;\n};\n/**\n * Remove all child nodes from `parent`\n * @param parent\n */\nexport const clear = (parent) => {\n    let c = parent.lastElementChild;\n    while (c) {\n        c.remove();\n        c = parent.lastElementChild;\n    }\n};\n/**\n * Copies string representation of object to clipboard\n * @param object\n * @returns Promise\n */\nexport const copyToClipboard = (object) => {\n    const p = new Promise((resolve, reject) => {\n        //const json = JSON.stringify(obj, null, 2);\n        const string_ = JSON5.stringify(object);\n        navigator.clipboard.writeText(JSON.stringify(string_)).then(() => {\n            resolve(true);\n        }, (error) => {\n            console.warn(`Could not copy to clipboard`);\n            console.log(string_);\n            reject(new Error(error));\n        });\n    });\n    return p;\n};\n/**\n * Inserts `element` into `parent` sorted according to its HTML attribute `data-sort`.\n *\n * Assumes:\n * * Every child of `parent` and `element`, has a `data-sort` attribute. This is the basis for sorting.\n * * `parent` starts off empty or pre-sorted.\n * * Order of `parent`'s children is not changed (ie it always remains sorted)\n * @param parent Parent to insert into\n * @param element Element to insert\n */\nexport const insertSorted = (parent, element) => {\n    const elSort = element.getAttribute(`data-sort`) ?? ``;\n    let elAfter;\n    let elBefore;\n    for (const c of parent.children) {\n        const sort = c.getAttribute(`data-sort`) ?? ``;\n        if (elSort >= sort)\n            elAfter = c;\n        if (elSort <= sort)\n            elBefore = c;\n        if (elAfter !== undefined && elBefore !== undefined)\n            break;\n    }\n    if (elAfter !== undefined) {\n        elAfter.insertAdjacentElement(`afterend`, element);\n    }\n    else if (elBefore === undefined) {\n        parent.append(element);\n    }\n    else {\n        elBefore.insertAdjacentElement(`beforebegin`, element);\n    }\n};\nexport const reconcileChildren = (parentEl, list, createUpdate) => {\n    if (typeof parentEl === `undefined`)\n        throw new Error(`Param 'parentEl' is undefined`);\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    if (parentEl === null)\n        throw new Error(`Param 'parentEl' is null`);\n    const seen = new Set();\n    for (const [key, value] of list) {\n        const id = `c-${key}`;\n        const el = parentEl.querySelector(`#${id}`);\n        const finalEl = createUpdate(value, el);\n        if (el !== finalEl) {\n            finalEl.id = id;\n            parentEl.append(finalEl);\n        }\n        seen.add(id);\n    }\n    const prune = [];\n    for (const child of parentEl.children) {\n        if (!seen.has(child.id)) {\n            prune.push(child);\n        }\n    }\n    // for (let index = 0; index < parentEl.children.length; index++) {\n    //   const c = parentEl.children[ index ] as HTMLElement;\n    //   if (!seen.has(c.id)) {\n    //     prune.push(c);\n    //   }\n    // }\n    for (const p of prune)\n        p.remove();\n};\n/**\n * Gets a HTML element by id, throwing an error if not found\n * @param id\n * @returns\n */\n// eslint-disable-next-line @typescript-eslint/no-unnecessary-type-parameters\nexport const byId = (id) => {\n    const element = document.getElementById(id);\n    if (element === null)\n        throw new Error(`HTML element with id '${id}' not found`);\n    return element;\n};\n","export * from '@ixfx/dom';"],"x_google_ignoreList":[6],"mappings":"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"}